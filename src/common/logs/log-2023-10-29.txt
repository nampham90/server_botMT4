14:57:3: Executing (default): SELECT 1+1 AS result
14:57:3: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
14:57:3: Executing (default): SHOW INDEX FROM `sys_menus`
14:57:3: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
14:57:3: Executing (default): SHOW INDEX FROM `sys_users`
14:57:3: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
14:57:3: Executing (default): SHOW INDEX FROM `sys_roles`
14:57:3: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
14:57:3: Executing (default): SHOW INDEX FROM `sys_departments`
14:57:3: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
14:57:3: Executing (default): SHOW INDEX FROM `tmt341_files`
14:57:3: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
14:57:3: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
14:57:3: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
14:57:3: Executing (default): SHOW INDEX FROM `user_role`
14:57:3: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
14:57:3: Executing (default): SHOW INDEX FROM `role_menu`
14:57:3: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
14:57:3: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
14:57:3: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
14:57:3: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
14:57:3: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
14:57:3: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
14:57:3: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
14:57:3: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
14:57:3: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
14:57:4: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
14:57:4: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
14:57:4: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
14:57:4: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
14:57:4: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
14:57:4: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
14:57:4: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
14:57:4: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
14:57:4: Executing (default): SHOW INDEX FROM `sys_menus`
14:57:4: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
14:57:4: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
14:57:4: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
14:57:4: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
14:57:4: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
14:57:4: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
14:57:4: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
14:57:4: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
14:57:4: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
14:57:4: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
14:57:4: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
14:57:4: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
14:57:4: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
14:57:4: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
14:57:4: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
14:57:5: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
14:57:5: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
14:57:5: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
14:57:5: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
14:57:5: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
14:57:5: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
14:57:5: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
14:57:5: Executing (default): SHOW INDEX FROM `sys_users`
14:57:5: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
14:57:5: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
14:57:5: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
14:57:5: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
14:57:5: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
14:57:5: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
14:57:5: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
14:57:5: Executing (default): SHOW INDEX FROM `sys_roles`
14:57:5: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
14:57:5: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
14:57:5: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
14:57:5: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
14:57:5: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
14:57:5: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
14:57:5: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
14:57:5: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
14:57:5: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
14:57:5: Executing (default): SHOW INDEX FROM `sys_departments`
14:57:5: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
14:57:5: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
14:57:5: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
14:57:5: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
14:57:5: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
14:57:5: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
14:57:5: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
14:57:5: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
14:57:6: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
14:57:6: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
14:57:6: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
14:57:6: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
14:57:6: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
14:57:6: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
14:57:6: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
14:57:6: Executing (default): SHOW INDEX FROM `tmt341_files`
14:57:6: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
14:57:6: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
14:57:6: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
14:57:6: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
14:57:6: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
14:57:6: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
14:57:6: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
14:57:6: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
14:57:7: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
14:57:7: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
14:57:7: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
14:57:7: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
14:57:7: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
14:57:7: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
14:57:7: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
14:57:7: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
14:57:7: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
14:57:7: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
14:57:7: Executing (default): SHOW INDEX FROM `user_role`
14:57:7: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
14:57:7: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
14:57:7: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
14:57:7: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
14:57:7: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
14:57:7: Executing (default): SHOW INDEX FROM `role_menu`
14:57:51: Executing (default): SELECT `sys_user`.*, `sys_roles`.`id` AS `sys_roles.id`, `sys_roles`.`lang` AS `sys_roles.lang`, `sys_roles`.`rolename` AS `sys_roles.rolename`, `sys_roles`.`mota` AS `sys_roles.mota`, `sys_roles`.`createdAt` AS `sys_roles.createdAt`, `sys_roles`.`updatedAt` AS `sys_roles.updatedAt`, `sys_roles->user_role`.`createdAt` AS `sys_roles.user_role.createdAt`, `sys_roles->user_role`.`updatedAt` AS `sys_roles.user_role.updatedAt`, `sys_roles->user_role`.`sysUserId` AS `sys_roles.user_role.sysUserId`, `sys_roles->user_role`.`sysRoleId` AS `sys_roles.user_role.sysRoleId`, `sys_department`.`id` AS `sys_department.id`, `sys_department`.`lang` AS `sys_department.lang`, `sys_department`.`tenphongban` AS `sys_department.tenphongban`, `sys_department`.`state` AS `sys_department.state`, `sys_department`.`fatherId` AS `sys_department.fatherId`, `sys_department`.`orderNum` AS `sys_department.orderNum`, `sys_department`.`createdAt` AS `sys_department.createdAt`, `sys_department`.`updatedAt` AS `sys_department.updatedAt` FROM (SELECT `sys_user`.`id`, `sys_user`.`name`, `sys_user`.`password`, `sys_user`.`available`, `sys_user`.`sex`, `sys_user`.`dienthoai`, `sys_user`.`email`, `sys_user`.`lastLoginTime`, `sys_user`.`createdAt`, `sys_user`.`updatedAt`, `sys_user`.`phongban_id`, `sys_user`.`sysDepartmentId`, `sys_user`.`avatar` FROM `sys_users` AS `sys_user` WHERE `sys_user`.`email` = 'namandroid.it@gmail.com' LIMIT 1) AS `sys_user` LEFT OUTER JOIN ( `user_role` AS `sys_roles->user_role` INNER JOIN `sys_roles` AS `sys_roles` ON `sys_roles`.`id` = `sys_roles->user_role`.`sysRoleId`) ON `sys_user`.`id` = `sys_roles->user_role`.`sysUserId` LEFT OUTER JOIN `sys_departments` AS `sys_department` ON `sys_user`.`sysDepartmentId` = `sys_department`.`id`;
14:57:51: Executing (default): UPDATE `sys_users` SET `lastLoginTime`=?,`updatedAt`=? WHERE `id` = ?
14:57:51: Executing (default): SELECT DISTINCT m.code FROM user_role ur  JOIN role_menu rm ON ur.sysRoleId= rm.sysRoleId  JOIN sys_menus m ON rm.sysMenuId = m.id   WHERE ur.sysUserId = 1;
14:57:51: Executing (default): SELECT `sys_user`.`id`, `sys_user`.`name`, `sys_user`.`password`, `sys_user`.`available`, `sys_user`.`sex`, `sys_user`.`dienthoai`, `sys_user`.`email`, `sys_user`.`lastLoginTime`, `sys_user`.`createdAt`, `sys_user`.`updatedAt`, `sys_user`.`phongban_id`, `sys_user`.`sysDepartmentId`, `sys_user`.`avatar`, `sys_roles`.`id` AS `sys_roles.id`, `sys_roles`.`lang` AS `sys_roles.lang`, `sys_roles`.`rolename` AS `sys_roles.rolename`, `sys_roles`.`mota` AS `sys_roles.mota`, `sys_roles`.`createdAt` AS `sys_roles.createdAt`, `sys_roles`.`updatedAt` AS `sys_roles.updatedAt`, `sys_roles->user_role`.`createdAt` AS `sys_roles.user_role.createdAt`, `sys_roles->user_role`.`updatedAt` AS `sys_roles.user_role.updatedAt`, `sys_roles->user_role`.`sysUserId` AS `sys_roles.user_role.sysUserId`, `sys_roles->user_role`.`sysRoleId` AS `sys_roles.user_role.sysRoleId` FROM `sys_users` AS `sys_user` LEFT OUTER JOIN ( `user_role` AS `sys_roles->user_role` INNER JOIN `sys_roles` AS `sys_roles` ON `sys_roles`.`id` = `sys_roles->user_role`.`sysRoleId`) ON `sys_user`.`id` = `sys_roles->user_role`.`sysUserId` WHERE `sys_user`.`id` = 1;
14:57:51: Executing (default): SELECT  p.id,p.lang,p.menuName,p.code,p.fatherId,p.orderNum,p.path,p.menuType,p.visible,p.status,p.newLinkFlag,p.alIcon,p.icon,p.createdAt,p.updatedAt FROM user_role ur  JOIN role_menu rp ON ur.sysRoleId = rp.sysRoleId  JOIN sys_menus p ON rp.sysMenuId = p.id  AND p.lang = 'vi'  WHERE ur.sysUserId =  1 GROUP BY p.id
14:57:51: MongoDB :: demo_db menus.findOne({"path":"/default/dashboard/analysis"},{"projection":{}})
14:57:51: MongoDB :: demo_db screenpcs.find({"idmenu":"632aaa31c8093b9a2007d14b","lang":"vi"},{"projection":{}})
14:57:51: MongoDB :: demo_db tmt101_youtubes.findOne({"urldisplayid":"/default/dashboard/analysis"},{"projection":{}})
14:58:13: Executing (default): SELECT count(*) AS `count` FROM `sys_menus` AS `sys_menu`;
14:58:13: Executing (default): SELECT `id`, `lang`, `menuName`, `code`, `fatherId`, `orderNum`, `path`, `menuType`, `visible`, `status`, `icon`, `alIcon`, `newLinkFlag`, `createdAt`, `updatedAt` FROM `sys_menus` AS `sys_menu`;
15:1:39: TypeError: Cannot read properties of undefined (reading 'id')
15:1:39: Error: Error System: TypeError: Cannot read properties of undefined (reading 'id')
15:2:20: TypeError: Cannot read properties of undefined (reading 'id')
15:2:20: Error: Error System: TypeError: Cannot read properties of undefined (reading 'id')
15:3:36: Executing (default): SELECT count(*) AS `count` FROM `sys_menus` AS `sys_menu`;
15:3:36: Executing (default): SELECT `id`, `lang`, `menuName`, `code`, `fatherId`, `orderNum`, `path`, `menuType`, `visible`, `status`, `icon`, `alIcon`, `newLinkFlag`, `createdAt`, `updatedAt` FROM `sys_menus` AS `sys_menu`;
15:5:33: Executing (default): SELECT 1+1 AS result
15:5:33: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
15:5:33: Executing (default): SHOW INDEX FROM `sys_menus`
15:5:33: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
15:5:33: Executing (default): SHOW INDEX FROM `sys_users`
15:5:33: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
15:5:33: Executing (default): SHOW INDEX FROM `sys_roles`
15:5:33: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
15:5:33: Executing (default): SHOW INDEX FROM `sys_departments`
15:5:33: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
15:5:33: Executing (default): SHOW INDEX FROM `tmt341_files`
15:5:33: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
15:5:33: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
15:5:33: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
15:5:33: Executing (default): SHOW INDEX FROM `user_role`
15:5:33: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
15:5:33: Executing (default): SHOW INDEX FROM `role_menu`
15:5:34: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
15:5:34: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
15:5:34: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:5:34: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
15:5:34: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
15:5:34: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
15:5:34: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
15:5:34: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
15:5:34: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
15:5:34: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
15:5:34: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
15:5:34: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
15:5:34: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
15:5:34: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
15:5:34: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:5:34: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
15:5:34: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:5:34: Executing (default): SHOW INDEX FROM `sys_menus`
15:5:34: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
15:5:34: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
15:5:34: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:5:34: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
15:5:34: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
15:5:34: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
15:5:34: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:5:34: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:5:34: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
15:5:34: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
15:5:34: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
15:5:34: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
15:5:34: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
15:5:35: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
15:5:35: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
15:5:35: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
15:5:35: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
15:5:35: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
15:5:35: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
15:5:35: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
15:5:35: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
15:5:35: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
15:5:35: Executing (default): SHOW INDEX FROM `sys_users`
15:5:35: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
15:5:35: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
15:5:35: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:5:35: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:5:35: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:5:35: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
15:5:35: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
15:5:35: Executing (default): SHOW INDEX FROM `sys_roles`
15:5:35: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
15:5:35: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
15:5:35: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:5:35: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
15:5:35: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:5:35: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:5:35: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
15:5:35: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
15:5:36: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
15:5:36: Executing (default): SHOW INDEX FROM `sys_departments`
15:5:36: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
15:5:36: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:5:36: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
15:5:36: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
15:5:36: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
15:5:36: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
15:5:36: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
15:5:36: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:5:36: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:5:36: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
15:5:36: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
15:5:36: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
15:5:36: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
15:5:36: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
15:5:36: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
15:5:37: Executing (default): SHOW INDEX FROM `tmt341_files`
15:5:37: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
15:5:37: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
15:5:37: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:5:37: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
15:5:37: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
15:5:37: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
15:5:37: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
15:5:37: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:5:37: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:5:37: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
15:5:37: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
15:5:37: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
15:5:37: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
15:5:37: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
15:5:37: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
15:5:37: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:5:37: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:5:37: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:5:37: Executing (default): SHOW INDEX FROM `user_role`
15:5:37: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
15:5:37: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
15:5:37: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:5:37: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:5:37: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:5:37: Executing (default): SHOW INDEX FROM `role_menu`
15:6:3: TypeError: Cannot read properties of undefined (reading 'id')
15:6:3: Error: Error System: TypeError: Cannot read properties of undefined (reading 'id')
15:7:28: Executing (default): SELECT 1+1 AS result
15:7:28: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
15:7:28: Executing (default): SHOW INDEX FROM `sys_menus`
15:7:28: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
15:7:28: Executing (default): SHOW INDEX FROM `sys_users`
15:7:28: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
15:7:28: Executing (default): SHOW INDEX FROM `sys_roles`
15:7:28: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
15:7:28: Executing (default): SHOW INDEX FROM `sys_departments`
15:7:28: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
15:7:28: Executing (default): SHOW INDEX FROM `tmt341_files`
15:7:28: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
15:7:28: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
15:7:28: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
15:7:28: Executing (default): SHOW INDEX FROM `user_role`
15:7:28: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
15:7:28: Executing (default): SHOW INDEX FROM `role_menu`
15:7:28: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
15:7:28: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
15:7:28: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:7:28: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
15:7:28: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
15:7:28: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
15:7:28: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
15:7:28: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
15:7:28: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
15:7:28: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
15:7:28: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
15:7:28: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
15:7:28: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
15:7:28: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
15:7:28: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:7:28: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:7:28: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
15:7:29: Executing (default): SHOW INDEX FROM `sys_menus`
15:7:29: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
15:7:29: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
15:7:29: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:7:29: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
15:7:29: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
15:7:29: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
15:7:29: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
15:7:29: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:7:29: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:7:29: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
15:7:29: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
15:7:29: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
15:7:29: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
15:7:29: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
15:7:29: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
15:7:29: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
15:7:29: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
15:7:29: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
15:7:29: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
15:7:29: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
15:7:29: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
15:7:29: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
15:7:29: Executing (default): SHOW INDEX FROM `sys_users`
15:7:29: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
15:7:29: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
15:7:29: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:7:29: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:7:30: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:7:30: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
15:7:30: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
15:7:30: Executing (default): SHOW INDEX FROM `sys_roles`
15:7:30: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
15:7:30: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
15:7:30: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:7:30: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
15:7:30: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:7:30: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:7:30: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
15:7:30: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
15:7:30: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
15:7:30: Executing (default): SHOW INDEX FROM `sys_departments`
15:7:30: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
15:7:30: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
15:7:30: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:7:30: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
15:7:30: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
15:7:30: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
15:7:30: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
15:7:30: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:7:30: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:7:30: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
15:7:30: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
15:7:30: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
15:7:30: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
15:7:30: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
15:7:31: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
15:7:31: Executing (default): SHOW INDEX FROM `tmt341_files`
15:7:31: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
15:7:31: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
15:7:31: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:7:31: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
15:7:31: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
15:7:31: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
15:7:31: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
15:7:31: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:7:31: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:7:31: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
15:7:31: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
15:7:31: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
15:7:31: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
15:7:31: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
15:7:31: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
15:7:31: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:7:31: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:7:31: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:7:31: Executing (default): SHOW INDEX FROM `user_role`
15:7:31: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
15:7:31: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
15:7:31: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:7:31: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:7:31: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:7:31: Executing (default): SHOW INDEX FROM `role_menu`
15:7:59: TypeError: Cannot read properties of undefined (reading 'id')
15:7:59: Error: Error System: TypeError: Cannot read properties of undefined (reading 'id')
15:8:31: Executing (default): SELECT 1+1 AS result
15:8:31: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
15:8:31: Executing (default): SHOW INDEX FROM `sys_menus`
15:8:31: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
15:8:31: Executing (default): SHOW INDEX FROM `sys_users`
15:8:31: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
15:8:31: Executing (default): SHOW INDEX FROM `sys_roles`
15:8:31: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
15:8:31: Executing (default): SHOW INDEX FROM `sys_departments`
15:8:31: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
15:8:31: Executing (default): SHOW INDEX FROM `tmt341_files`
15:8:31: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
15:8:31: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
15:8:31: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
15:8:31: Executing (default): SHOW INDEX FROM `user_role`
15:8:31: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
15:8:31: Executing (default): SHOW INDEX FROM `role_menu`
15:8:31: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
15:8:31: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
15:8:31: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:8:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
15:8:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
15:8:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
15:8:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
15:8:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
15:8:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
15:8:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
15:8:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
15:8:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
15:8:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
15:8:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
15:8:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:8:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:8:32: Executing (default): SHOW INDEX FROM `sys_menus`
15:8:32: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
15:8:32: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:8:32: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
15:8:32: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
15:8:32: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
15:8:32: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
15:8:32: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
15:8:32: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:8:32: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:8:32: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
15:8:32: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
15:8:32: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
15:8:32: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
15:8:32: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
15:8:32: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
15:8:32: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
15:8:32: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
15:8:33: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
15:8:33: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
15:8:33: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
15:8:33: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
15:8:33: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
15:8:33: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
15:8:33: Executing (default): SHOW INDEX FROM `sys_users`
15:8:33: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
15:8:33: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
15:8:33: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:8:33: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:8:33: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:8:33: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
15:8:33: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
15:8:33: Executing (default): SHOW INDEX FROM `sys_roles`
15:8:33: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
15:8:33: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
15:8:33: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:8:33: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
15:8:33: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:8:33: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:8:33: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
15:8:33: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
15:8:34: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
15:8:34: Executing (default): SHOW INDEX FROM `sys_departments`
15:8:34: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
15:8:34: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
15:8:34: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:8:34: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
15:8:34: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
15:8:34: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
15:8:34: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
15:8:34: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:8:34: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:8:34: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
15:8:34: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
15:8:34: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
15:8:34: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
15:8:34: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
15:8:34: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
15:8:35: Executing (default): SHOW INDEX FROM `tmt341_files`
15:8:35: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
15:8:35: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
15:8:35: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:8:35: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
15:8:35: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
15:8:35: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
15:8:35: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
15:8:35: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:8:35: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:8:35: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
15:8:35: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
15:8:35: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
15:8:35: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
15:8:35: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
15:8:35: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
15:8:35: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:8:35: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:8:35: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:8:35: Executing (default): SHOW INDEX FROM `user_role`
15:8:35: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
15:8:35: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
15:8:35: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:8:35: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:8:35: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:8:35: Executing (default): SHOW INDEX FROM `role_menu`
15:8:49: Executing (default): SELECT `id`, `lang`, `menuName`, `code`, `fatherId`, `orderNum`, `path`, `menuType`, `visible`, `status`, `icon`, `alIcon`, `newLinkFlag`, `createdAt`, `updatedAt` FROM `sys_menus` AS `sys_menu` WHERE `sys_menu`.`id` = '632aaa31c8093b9a2007d155' AND `sys_menu`.`lang` = 'vi';
15:9:4: Executing (default): SELECT `id`, `lang`, `menuName`, `code`, `fatherId`, `orderNum`, `path`, `menuType`, `visible`, `status`, `icon`, `alIcon`, `newLinkFlag`, `createdAt`, `updatedAt` FROM `sys_menus` AS `sys_menu` WHERE `sys_menu`.`id` = '64867f1def5220e488de1d77' AND `sys_menu`.`lang` = 'vi';
15:9:15: Executing (default): SELECT `id`, `lang`, `menuName`, `code`, `fatherId`, `orderNum`, `path`, `menuType`, `visible`, `status`, `icon`, `alIcon`, `newLinkFlag`, `createdAt`, `updatedAt` FROM `sys_menus` AS `sys_menu` WHERE `sys_menu`.`id` = '632aaa31c8093b9a2007d199' AND `sys_menu`.`lang` = 'vi';
15:13:19: ReferenceError: JoiJoi is not defined
15:14:32: Executing (default): SELECT 1+1 AS result
15:14:32: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
15:14:32: Executing (default): SHOW INDEX FROM `sys_menus`
15:14:32: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
15:14:32: Executing (default): SHOW INDEX FROM `sys_users`
15:14:32: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
15:14:32: Executing (default): SHOW INDEX FROM `sys_roles`
15:14:32: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
15:14:32: Executing (default): SHOW INDEX FROM `sys_departments`
15:14:32: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
15:14:32: Executing (default): SHOW INDEX FROM `tmt341_files`
15:14:32: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
15:14:32: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
15:14:32: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
15:14:32: Executing (default): SHOW INDEX FROM `user_role`
15:14:32: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
15:14:32: Executing (default): SHOW INDEX FROM `role_menu`
15:14:32: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
15:14:32: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
15:14:32: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:14:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
15:14:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
15:14:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
15:14:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
15:14:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
15:14:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
15:14:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
15:14:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
15:14:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
15:14:33: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
15:14:33: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
15:14:33: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
15:14:33: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:14:33: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:14:33: Executing (default): SHOW INDEX FROM `sys_menus`
15:14:33: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
15:14:33: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
15:14:33: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:14:33: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
15:14:33: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
15:14:33: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
15:14:33: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
15:14:33: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:14:33: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:14:33: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
15:14:33: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
15:14:33: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
15:14:33: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
15:14:33: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
15:14:33: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
15:14:33: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
15:14:33: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
15:14:33: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
15:14:34: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
15:14:34: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
15:14:34: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
15:14:34: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
15:14:34: Executing (default): SHOW INDEX FROM `sys_users`
15:14:34: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
15:14:34: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
15:14:34: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:14:34: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:14:34: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:14:34: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
15:14:34: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
15:14:34: Executing (default): SHOW INDEX FROM `sys_roles`
15:14:34: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
15:14:34: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
15:14:34: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:14:34: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
15:14:34: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:14:34: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:14:34: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
15:14:34: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
15:14:34: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
15:14:34: Executing (default): SHOW INDEX FROM `sys_departments`
15:14:34: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
15:14:34: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
15:14:34: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:14:34: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
15:14:34: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
15:14:34: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
15:14:34: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
15:14:35: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:14:35: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:14:35: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
15:14:35: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
15:14:35: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
15:14:35: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
15:14:35: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
15:14:35: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
15:14:35: Executing (default): SHOW INDEX FROM `tmt341_files`
15:14:35: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
15:14:35: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
15:14:35: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:14:35: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
15:14:35: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
15:14:35: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
15:14:35: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
15:14:35: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:14:36: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:14:36: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
15:14:36: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
15:14:36: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
15:14:36: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
15:14:36: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
15:14:36: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
15:14:36: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:14:36: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:14:36: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:14:36: Executing (default): SHOW INDEX FROM `user_role`
15:14:36: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
15:14:36: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
15:14:36: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:14:36: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:14:36: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:14:36: Executing (default): SHOW INDEX FROM `role_menu`
15:18:53: Executing (default): SELECT 1+1 AS result
15:18:53: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
15:18:53: Executing (default): SHOW INDEX FROM `sys_menus`
15:18:53: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
15:18:53: Executing (default): SHOW INDEX FROM `sys_users`
15:18:53: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
15:18:53: Executing (default): SHOW INDEX FROM `sys_roles`
15:18:53: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
15:18:53: Executing (default): SHOW INDEX FROM `sys_departments`
15:18:53: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
15:18:53: Executing (default): SHOW INDEX FROM `tmt341_files`
15:18:53: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
15:18:53: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
15:18:53: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
15:18:53: Executing (default): SHOW INDEX FROM `user_role`
15:18:53: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
15:18:53: Executing (default): SHOW INDEX FROM `role_menu`
15:18:53: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
15:18:53: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
15:18:53: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:18:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
15:18:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
15:18:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
15:18:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
15:18:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
15:18:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
15:18:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
15:18:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
15:18:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
15:18:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
15:18:53: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
15:18:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
15:18:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:18:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:18:53: Executing (default): SHOW INDEX FROM `sys_menus`
15:18:53: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
15:18:53: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
15:18:53: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:18:53: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
15:18:53: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
15:18:53: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
15:18:53: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
15:18:54: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
15:18:54: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:18:54: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
15:18:54: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
15:18:54: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:18:54: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
15:18:54: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
15:18:54: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
15:18:54: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
15:18:54: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
15:18:54: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
15:18:54: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
15:18:54: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
15:18:54: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
15:18:54: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
15:18:54: Executing (default): SHOW INDEX FROM `sys_users`
15:18:54: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
15:18:54: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:18:54: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
15:18:54: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:18:54: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:18:54: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
15:18:55: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
15:18:55: Executing (default): SHOW INDEX FROM `sys_roles`
15:18:55: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
15:18:55: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
15:18:55: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:18:55: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
15:18:55: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:18:55: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:18:55: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
15:18:55: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
15:18:55: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
15:18:55: Executing (default): SHOW INDEX FROM `sys_departments`
15:18:55: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
15:18:55: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
15:18:55: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:18:55: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
15:18:55: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
15:18:55: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
15:18:55: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
15:18:55: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:18:55: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:18:55: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
15:18:55: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
15:18:55: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
15:18:55: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
15:18:55: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
15:18:55: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
15:18:56: Executing (default): SHOW INDEX FROM `tmt341_files`
15:18:56: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
15:18:56: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
15:18:56: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:18:56: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
15:18:56: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
15:18:56: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
15:18:56: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
15:18:56: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:18:56: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:18:56: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
15:18:56: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
15:18:56: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
15:18:56: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
15:18:56: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
15:18:56: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:18:56: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
15:18:56: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:18:56: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:18:56: Executing (default): SHOW INDEX FROM `user_role`
15:18:56: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
15:18:56: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
15:18:56: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:18:56: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:18:56: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:18:56: Executing (default): SHOW INDEX FROM `role_menu`
15:19:53: TypeError: Cannot destructure property 'menuName' of 'req.conditon' as it is undefined.
15:19:53: Error: Error System: TypeError: Cannot destructure property 'menuName' of 'req.conditon' as it is undefined.
15:21:18: Executing (default): SELECT 1+1 AS result
15:21:18: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
15:21:18: Executing (default): SHOW INDEX FROM `sys_menus`
15:21:18: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
15:21:18: Executing (default): SHOW INDEX FROM `sys_users`
15:21:18: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
15:21:18: Executing (default): SHOW INDEX FROM `sys_roles`
15:21:18: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
15:21:18: Executing (default): SHOW INDEX FROM `sys_departments`
15:21:18: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
15:21:18: Executing (default): SHOW INDEX FROM `tmt341_files`
15:21:18: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
15:21:18: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
15:21:18: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
15:21:18: Executing (default): SHOW INDEX FROM `user_role`
15:21:18: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
15:21:18: Executing (default): SHOW INDEX FROM `role_menu`
15:21:18: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
15:21:18: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
15:21:18: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:21:18: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
15:21:18: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
15:21:18: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
15:21:18: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
15:21:18: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
15:21:18: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
15:21:18: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
15:21:18: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
15:21:18: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
15:21:18: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
15:21:18: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
15:21:18: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:21:18: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:21:18: Executing (default): SHOW INDEX FROM `sys_menus`
15:21:18: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
15:21:18: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
15:21:18: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:21:18: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
15:21:18: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
15:21:18: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
15:21:18: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:21:18: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
15:21:18: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:21:18: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
15:21:19: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
15:21:19: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
15:21:19: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
15:21:19: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
15:21:19: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
15:21:19: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
15:21:19: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
15:21:19: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
15:21:19: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
15:21:19: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
15:21:19: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
15:21:19: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
15:21:19: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
15:21:19: Executing (default): SHOW INDEX FROM `sys_users`
15:21:19: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
15:21:19: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:21:19: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
15:21:19: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:21:19: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:21:19: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
15:21:19: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
15:21:19: Executing (default): SHOW INDEX FROM `sys_roles`
15:21:19: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
15:21:19: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
15:21:19: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:21:19: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
15:21:20: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:21:20: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:21:20: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
15:21:20: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
15:21:20: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
15:21:20: Executing (default): SHOW INDEX FROM `sys_departments`
15:21:20: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
15:21:20: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
15:21:20: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:21:20: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
15:21:20: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
15:21:20: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
15:21:20: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
15:21:20: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:21:20: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:21:20: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
15:21:20: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
15:21:20: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
15:21:20: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
15:21:20: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
15:21:20: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
15:21:21: Executing (default): SHOW INDEX FROM `tmt341_files`
15:21:21: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
15:21:21: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:21:21: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
15:21:21: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
15:21:21: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
15:21:21: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
15:21:21: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
15:21:21: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:21:21: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:21:21: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
15:21:21: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
15:21:21: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
15:21:21: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
15:21:21: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
15:21:21: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
15:21:21: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:21:21: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:21:21: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:21:21: Executing (default): SHOW INDEX FROM `user_role`
15:21:21: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
15:21:21: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
15:21:21: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:21:21: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:21:21: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:21:21: Executing (default): SHOW INDEX FROM `role_menu`
15:22:25: SequelizeValidationError: notNull Violation: sys_menu.id cannot be null
15:22:26: Error: Error System: SequelizeValidationError: notNull Violation: sys_menu.id cannot be null
15:28:44: Executing (default): SELECT 1+1 AS result
15:28:44: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
15:28:44: Executing (default): SHOW INDEX FROM `sys_menus`
15:28:44: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
15:28:44: Executing (default): SHOW INDEX FROM `sys_users`
15:28:44: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
15:28:44: Executing (default): SHOW INDEX FROM `sys_roles`
15:28:44: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
15:28:44: Executing (default): SHOW INDEX FROM `sys_departments`
15:28:44: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
15:28:44: Executing (default): SHOW INDEX FROM `tmt341_files`
15:28:44: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
15:28:44: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
15:28:44: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
15:28:44: Executing (default): SHOW INDEX FROM `user_role`
15:28:44: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
15:28:44: Executing (default): SHOW INDEX FROM `role_menu`
15:28:44: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
15:28:44: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
15:28:44: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:28:44: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
15:28:44: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
15:28:44: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
15:28:44: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
15:28:45: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
15:28:45: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
15:28:45: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
15:28:45: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
15:28:45: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
15:28:45: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
15:28:45: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
15:28:45: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
15:28:45: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
15:28:45: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:28:45: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:28:45: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
15:28:45: Executing (default): SHOW INDEX FROM `sys_menus`
15:28:45: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
15:28:45: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
15:28:45: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:28:45: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
15:28:45: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
15:28:45: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
15:28:45: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
15:28:45: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
15:28:45: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:28:45: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
15:28:45: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:28:45: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
15:28:45: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
15:28:45: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
15:28:45: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
15:28:46: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
15:28:46: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
15:28:46: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
15:28:46: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
15:28:46: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
15:28:46: Executing (default): SHOW INDEX FROM `sys_users`
15:28:46: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
15:28:46: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
15:28:46: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:28:46: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:28:46: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:28:46: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
15:28:46: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
15:28:46: Executing (default): SHOW INDEX FROM `sys_roles`
15:28:46: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
15:28:46: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
15:28:46: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:28:46: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
15:28:46: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:28:46: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:28:46: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
15:28:46: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
15:28:46: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
15:28:46: Executing (default): SHOW INDEX FROM `sys_departments`
15:28:46: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
15:28:46: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
15:28:46: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:28:46: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
15:28:46: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
15:28:46: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
15:28:46: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
15:28:47: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:28:47: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:28:47: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
15:28:47: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
15:28:47: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
15:28:47: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
15:28:47: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
15:28:47: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
15:28:47: Executing (default): SHOW INDEX FROM `tmt341_files`
15:28:47: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
15:28:47: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
15:28:47: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:28:47: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
15:28:47: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
15:28:47: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
15:28:47: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
15:28:47: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:28:48: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:28:48: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
15:28:48: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
15:28:48: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
15:28:48: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
15:28:48: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
15:28:48: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:28:48: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
15:28:48: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:28:48: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:28:48: Executing (default): SHOW INDEX FROM `user_role`
15:28:48: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
15:28:48: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
15:28:48: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:28:48: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:28:48: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:28:48: Executing (default): SHOW INDEX FROM `role_menu`
15:29:13: Executing (default): INSERT INTO `sys_menus` (`id`,`lang`,`menuName`,`code`,`fatherId`,`orderNum`,`path`,`menuType`,`visible`,`status`,`icon`,`alIcon`,`newLinkFlag`,`createdAt`,`updatedAt`) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?);
15:29:39: Executing (default): SELECT count(*) AS `count` FROM `sys_menus` AS `sys_menu`;
15:29:39: Executing (default): SELECT `id`, `lang`, `menuName`, `code`, `fatherId`, `orderNum`, `path`, `menuType`, `visible`, `status`, `icon`, `alIcon`, `newLinkFlag`, `createdAt`, `updatedAt` FROM `sys_menus` AS `sys_menu`;
15:30:34: Executing (default): SELECT 1+1 AS result
15:30:34: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
15:30:34: Executing (default): SHOW INDEX FROM `sys_menus`
15:30:34: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
15:30:34: Executing (default): SHOW INDEX FROM `sys_users`
15:30:34: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
15:30:34: Executing (default): SHOW INDEX FROM `sys_roles`
15:30:34: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
15:30:34: Executing (default): SHOW INDEX FROM `sys_departments`
15:30:34: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
15:30:34: Executing (default): SHOW INDEX FROM `tmt341_files`
15:30:34: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
15:30:34: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
15:30:34: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
15:30:34: Executing (default): SHOW INDEX FROM `user_role`
15:30:34: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
15:30:34: Executing (default): SHOW INDEX FROM `role_menu`
15:30:34: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
15:30:34: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
15:30:34: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:30:34: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
15:30:34: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
15:30:34: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
15:30:34: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
15:30:34: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
15:30:34: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
15:30:34: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
15:30:34: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
15:30:35: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
15:30:35: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
15:30:35: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
15:30:35: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
15:30:35: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:30:35: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:30:35: Executing (default): SHOW INDEX FROM `sys_menus`
15:30:35: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
15:30:35: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
15:30:35: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:30:35: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
15:30:35: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
15:30:35: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
15:30:35: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
15:30:35: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
15:30:35: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:30:35: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:30:35: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
15:30:35: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
15:30:35: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
15:30:35: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
15:30:35: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
15:30:35: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
15:30:35: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
15:30:36: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
15:30:36: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
15:30:36: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
15:30:36: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
15:30:36: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
15:30:36: Executing (default): SHOW INDEX FROM `sys_users`
15:30:36: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
15:30:36: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
15:30:36: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:30:36: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:30:36: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:30:36: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
15:30:36: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
15:30:36: Executing (default): SHOW INDEX FROM `sys_roles`
15:30:36: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
15:30:36: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:30:36: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
15:30:36: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
15:30:36: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:30:36: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:30:36: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
15:30:36: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
15:30:36: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
15:30:36: Executing (default): SHOW INDEX FROM `sys_departments`
15:30:36: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
15:30:36: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
15:30:36: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:30:36: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
15:30:36: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
15:30:36: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
15:30:36: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
15:30:36: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:30:36: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:30:36: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
15:30:36: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
15:30:37: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
15:30:37: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
15:30:37: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
15:30:37: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
15:30:37: Executing (default): SHOW INDEX FROM `tmt341_files`
15:30:37: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
15:30:37: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
15:30:37: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:30:37: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
15:30:37: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
15:30:37: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
15:30:37: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
15:30:37: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:30:37: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:30:37: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
15:30:37: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
15:30:37: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
15:30:37: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
15:30:37: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
15:30:37: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:30:37: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
15:30:37: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:30:38: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:30:38: Executing (default): SHOW INDEX FROM `user_role`
15:30:38: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
15:30:38: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:30:38: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
15:30:38: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:30:38: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:30:38: Executing (default): SHOW INDEX FROM `role_menu`
15:31:9: Executing (default): SELECT 1+1 AS result
15:31:9: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
15:31:9: Executing (default): SHOW INDEX FROM `sys_menus`
15:31:9: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
15:31:9: Executing (default): SHOW INDEX FROM `sys_users`
15:31:9: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
15:31:9: Executing (default): SHOW INDEX FROM `sys_roles`
15:31:9: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
15:31:9: Executing (default): SHOW INDEX FROM `sys_departments`
15:31:9: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
15:31:9: Executing (default): SHOW INDEX FROM `tmt341_files`
15:31:9: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
15:31:9: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
15:31:9: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
15:31:9: Executing (default): SHOW INDEX FROM `user_role`
15:31:9: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
15:31:9: Executing (default): SHOW INDEX FROM `role_menu`
15:31:9: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
15:31:9: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
15:31:9: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:31:9: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
15:31:9: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
15:31:9: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
15:31:9: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
15:31:9: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
15:31:9: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
15:31:9: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
15:31:9: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
15:31:9: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
15:31:9: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
15:31:9: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
15:31:9: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:31:9: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:31:10: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
15:31:10: Executing (default): SHOW INDEX FROM `sys_menus`
15:31:10: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
15:31:10: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
15:31:10: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:31:10: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
15:31:10: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
15:31:10: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
15:31:10: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:31:10: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:31:10: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
15:31:10: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
15:31:10: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
15:31:10: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
15:31:10: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
15:31:10: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
15:31:10: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
15:31:10: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
15:31:10: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
15:31:10: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
15:31:10: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
15:31:10: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
15:31:10: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
15:31:11: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
15:31:11: Executing (default): SHOW INDEX FROM `sys_users`
15:31:11: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
15:31:11: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
15:31:11: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:31:11: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:31:11: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:31:11: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
15:31:11: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
15:31:11: Executing (default): SHOW INDEX FROM `sys_roles`
15:31:11: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
15:31:11: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
15:31:11: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:31:11: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
15:31:11: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:31:11: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:31:11: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
15:31:11: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
15:31:11: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
15:31:11: Executing (default): SHOW INDEX FROM `sys_departments`
15:31:11: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
15:31:11: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
15:31:11: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:31:11: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
15:31:11: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
15:31:11: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
15:31:11: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
15:31:11: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:31:11: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:31:11: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
15:31:11: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
15:31:11: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
15:31:11: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
15:31:11: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
15:31:12: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
15:31:12: Executing (default): SHOW INDEX FROM `tmt341_files`
15:31:12: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
15:31:12: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
15:31:12: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:31:12: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
15:31:12: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
15:31:12: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
15:31:12: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
15:31:12: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:31:12: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:31:12: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
15:31:12: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
15:31:12: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
15:31:12: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
15:31:12: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
15:31:12: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
15:31:12: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:31:12: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:31:12: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:31:12: Executing (default): SHOW INDEX FROM `user_role`
15:31:12: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
15:31:12: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
15:31:12: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:31:12: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:31:12: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:31:12: Executing (default): SHOW INDEX FROM `role_menu`
15:33:8: Executing (default): SELECT 1+1 AS result
15:33:8: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
15:33:8: Executing (default): SHOW INDEX FROM `sys_menus`
15:33:8: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
15:33:8: Executing (default): SHOW INDEX FROM `sys_users`
15:33:8: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
15:33:8: Executing (default): SHOW INDEX FROM `sys_roles`
15:33:8: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
15:33:8: Executing (default): SHOW INDEX FROM `sys_departments`
15:33:8: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
15:33:8: Executing (default): SHOW INDEX FROM `tmt341_files`
15:33:8: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
15:33:8: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
15:33:8: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
15:33:8: Executing (default): SHOW INDEX FROM `user_role`
15:33:8: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
15:33:8: Executing (default): SHOW INDEX FROM `role_menu`
15:33:8: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
15:33:8: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
15:33:8: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:33:8: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
15:33:8: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
15:33:8: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
15:33:8: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
15:33:8: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
15:33:8: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
15:33:8: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
15:33:8: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
15:33:8: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
15:33:8: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
15:33:8: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
15:33:8: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
15:33:8: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:33:8: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:33:8: Executing (default): SHOW INDEX FROM `sys_menus`
15:33:8: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
15:33:8: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
15:33:8: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:33:8: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
15:33:8: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
15:33:9: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
15:33:9: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
15:33:9: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
15:33:9: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:33:9: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:33:9: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
15:33:9: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
15:33:9: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
15:33:9: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
15:33:9: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
15:33:9: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
15:33:9: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
15:33:9: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
15:33:9: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
15:33:9: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
15:33:9: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
15:33:9: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
15:33:9: Executing (default): SHOW INDEX FROM `sys_users`
15:33:9: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
15:33:9: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:33:9: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
15:33:9: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:33:9: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:33:10: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
15:33:10: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
15:33:10: Executing (default): SHOW INDEX FROM `sys_roles`
15:33:10: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
15:33:10: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
15:33:10: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:33:10: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
15:33:10: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:33:10: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:33:10: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
15:33:10: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
15:33:10: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
15:33:10: Executing (default): SHOW INDEX FROM `sys_departments`
15:33:10: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
15:33:10: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
15:33:10: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:33:10: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
15:33:10: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
15:33:10: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
15:33:10: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
15:33:10: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:33:10: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:33:10: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
15:33:10: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
15:33:10: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
15:33:10: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
15:33:10: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
15:33:11: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
15:33:11: Executing (default): SHOW INDEX FROM `tmt341_files`
15:33:11: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
15:33:11: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
15:33:11: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:33:11: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
15:33:11: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
15:33:11: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
15:33:11: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
15:33:11: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:33:11: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:33:11: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
15:33:11: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
15:33:11: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
15:33:11: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
15:33:11: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
15:33:11: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
15:33:11: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:33:11: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:33:11: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:33:11: Executing (default): SHOW INDEX FROM `user_role`
15:33:11: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
15:33:11: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
15:33:11: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:33:11: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:33:11: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:33:11: Executing (default): SHOW INDEX FROM `role_menu`
15:33:32: Executing (default): DELETE FROM `sys_menus` WHERE `id` IN ('653e17d93d16aa8645853f00')
15:33:59: Executing (default): SELECT count(*) AS `count` FROM `sys_menus` AS `sys_menu`;
15:33:59: Executing (default): SELECT `id`, `lang`, `menuName`, `code`, `fatherId`, `orderNum`, `path`, `menuType`, `visible`, `status`, `icon`, `alIcon`, `newLinkFlag`, `createdAt`, `updatedAt` FROM `sys_menus` AS `sys_menu`;
15:35:32: Executing (default): SELECT 1+1 AS result
15:35:32: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
15:35:32: Executing (default): SHOW INDEX FROM `sys_menus`
15:35:32: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
15:35:32: Executing (default): SHOW INDEX FROM `sys_users`
15:35:32: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
15:35:32: Executing (default): SHOW INDEX FROM `sys_roles`
15:35:32: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
15:35:32: Executing (default): SHOW INDEX FROM `sys_departments`
15:35:32: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
15:35:32: Executing (default): SHOW INDEX FROM `tmt341_files`
15:35:32: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
15:35:32: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
15:35:32: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
15:35:32: Executing (default): SHOW INDEX FROM `user_role`
15:35:32: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
15:35:32: Executing (default): SHOW INDEX FROM `role_menu`
15:35:32: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
15:35:32: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
15:35:32: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:35:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
15:35:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
15:35:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
15:35:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
15:35:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
15:35:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
15:35:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
15:35:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
15:35:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
15:35:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
15:35:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
15:35:33: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:35:33: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
15:35:33: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:35:33: Executing (default): SHOW INDEX FROM `sys_menus`
15:35:33: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
15:35:33: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
15:35:33: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:35:33: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
15:35:33: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
15:35:33: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
15:35:33: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
15:35:33: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:35:33: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:35:33: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
15:35:33: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
15:35:33: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
15:35:33: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
15:35:33: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
15:35:33: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
15:35:33: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
15:35:33: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
15:35:33: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
15:35:33: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
15:35:34: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
15:35:34: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
15:35:34: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
15:35:34: Executing (default): SHOW INDEX FROM `sys_users`
15:35:34: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
15:35:34: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
15:35:34: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:35:34: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:35:34: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:35:34: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
15:35:34: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
15:35:34: Executing (default): SHOW INDEX FROM `sys_roles`
15:35:34: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
15:35:34: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
15:35:34: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:35:34: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
15:35:34: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:35:34: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:35:34: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
15:35:34: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
15:35:34: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
15:35:34: Executing (default): SHOW INDEX FROM `sys_departments`
15:35:34: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
15:35:34: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
15:35:34: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:35:34: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
15:35:34: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
15:35:34: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
15:35:34: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
15:35:34: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:35:34: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:35:34: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
15:35:34: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
15:35:34: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
15:35:34: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
15:35:34: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
15:35:35: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
15:35:35: Executing (default): SHOW INDEX FROM `tmt341_files`
15:35:35: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
15:35:35: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
15:35:35: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:35:35: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
15:35:35: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
15:35:35: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
15:35:35: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
15:35:35: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:35:35: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:35:35: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
15:35:35: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
15:35:35: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
15:35:35: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
15:35:35: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
15:35:35: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
15:35:35: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:35:35: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:35:35: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:35:35: Executing (default): SHOW INDEX FROM `user_role`
15:35:35: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
15:35:35: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
15:35:35: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:35:35: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:35:36: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:35:36: Executing (default): SHOW INDEX FROM `role_menu`
15:35:58: Executing (default): INSERT INTO `sys_menus` (`id`,`lang`,`menuName`,`code`,`fatherId`,`orderNum`,`path`,`menuType`,`visible`,`status`,`icon`,`alIcon`,`newLinkFlag`,`createdAt`,`updatedAt`) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?);
15:36:2: Executing (default): SELECT count(*) AS `count` FROM `sys_menus` AS `sys_menu`;
15:36:2: Executing (default): SELECT `id`, `lang`, `menuName`, `code`, `fatherId`, `orderNum`, `path`, `menuType`, `visible`, `status`, `icon`, `alIcon`, `newLinkFlag`, `createdAt`, `updatedAt` FROM `sys_menus` AS `sys_menu`;
15:36:11: TypeError: Cannot read properties of undefined (reading 'ids')
15:36:11: Error: Error System: TypeError: Cannot read properties of undefined (reading 'ids')
15:36:47: Executing (default): SELECT 1+1 AS result
15:36:47: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
15:36:47: Executing (default): SHOW INDEX FROM `sys_menus`
15:36:47: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
15:36:47: Executing (default): SHOW INDEX FROM `sys_users`
15:36:47: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
15:36:47: Executing (default): SHOW INDEX FROM `sys_roles`
15:36:48: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
15:36:48: Executing (default): SHOW INDEX FROM `sys_departments`
15:36:48: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
15:36:48: Executing (default): SHOW INDEX FROM `tmt341_files`
15:36:48: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
15:36:48: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
15:36:48: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
15:36:48: Executing (default): SHOW INDEX FROM `user_role`
15:36:48: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
15:36:48: Executing (default): SHOW INDEX FROM `role_menu`
15:36:48: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
15:36:48: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
15:36:48: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:36:48: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
15:36:48: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
15:36:48: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
15:36:48: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
15:36:48: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
15:36:48: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
15:36:48: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
15:36:48: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
15:36:48: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
15:36:48: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
15:36:48: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
15:36:48: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:36:48: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:36:48: Executing (default): SHOW INDEX FROM `sys_menus`
15:36:48: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
15:36:48: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
15:36:48: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:36:48: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
15:36:48: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
15:36:48: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
15:36:48: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
15:36:48: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:36:48: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:36:48: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
15:36:48: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
15:36:48: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
15:36:49: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
15:36:49: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
15:36:49: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
15:36:49: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
15:36:49: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
15:36:49: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
15:36:49: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
15:36:49: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
15:36:49: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
15:36:49: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
15:36:49: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
15:36:49: Executing (default): SHOW INDEX FROM `sys_users`
15:36:49: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
15:36:49: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
15:36:49: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:36:49: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:36:49: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:36:49: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
15:36:49: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
15:36:49: Executing (default): SHOW INDEX FROM `sys_roles`
15:36:49: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
15:36:49: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:36:49: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
15:36:50: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
15:36:50: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:36:50: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:36:50: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
15:36:50: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
15:36:50: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
15:36:50: Executing (default): SHOW INDEX FROM `sys_departments`
15:36:50: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
15:36:50: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
15:36:50: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:36:50: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
15:36:50: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
15:36:50: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
15:36:50: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
15:36:50: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:36:50: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:36:50: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
15:36:50: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
15:36:50: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
15:36:50: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
15:36:50: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
15:36:50: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
15:36:51: Executing (default): SHOW INDEX FROM `tmt341_files`
15:36:51: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
15:36:51: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
15:36:51: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:36:51: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
15:36:51: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
15:36:51: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
15:36:51: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
15:36:51: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:36:51: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:36:51: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
15:36:51: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
15:36:51: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
15:36:51: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
15:36:51: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
15:36:51: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
15:36:51: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:36:51: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:36:51: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:36:51: Executing (default): SHOW INDEX FROM `user_role`
15:36:51: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
15:36:51: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
15:36:51: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
15:36:51: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
15:36:51: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
15:36:51: Executing (default): SHOW INDEX FROM `role_menu`
15:36:57: Executing (default): DELETE FROM `sys_menus` WHERE `id` IN ('653e196ea42e37f21a5905e7') AND `lang` = 'vi'
15:36:57: Executing (default): SELECT count(*) AS `count` FROM `sys_menus` AS `sys_menu`;
15:36:57: Executing (default): SELECT `id`, `lang`, `menuName`, `code`, `fatherId`, `orderNum`, `path`, `menuType`, `visible`, `status`, `icon`, `alIcon`, `newLinkFlag`, `createdAt`, `updatedAt` FROM `sys_menus` AS `sys_menu`;
15:38:52: Executing (default): SELECT count(*) AS `count` FROM `sys_menus` AS `sys_menu`;
15:38:52: Executing (default): SELECT `id`, `lang`, `menuName`, `code`, `fatherId`, `orderNum`, `path`, `menuType`, `visible`, `status`, `icon`, `alIcon`, `newLinkFlag`, `createdAt`, `updatedAt` FROM `sys_menus` AS `sys_menu`;
15:38:53: Executing (default): SELECT count(*) AS `count` FROM `sys_menus` AS `sys_menu`;
15:38:53: Executing (default): SELECT `id`, `lang`, `menuName`, `code`, `fatherId`, `orderNum`, `path`, `menuType`, `visible`, `status`, `icon`, `alIcon`, `newLinkFlag`, `createdAt`, `updatedAt` FROM `sys_menus` AS `sys_menu`;
15:38:55: Executing (default): SELECT count(*) AS `count` FROM `sys_menus` AS `sys_menu`;
15:38:55: Executing (default): SELECT `id`, `lang`, `menuName`, `code`, `fatherId`, `orderNum`, `path`, `menuType`, `visible`, `status`, `icon`, `alIcon`, `newLinkFlag`, `createdAt`, `updatedAt` FROM `sys_menus` AS `sys_menu`;
15:39:20: Executing (default): SELECT count(*) AS `count` FROM `sys_departments` AS `sys_department`;
15:39:20: Executing (default): SELECT `id`, `lang`, `tenphongban`, `state`, `fatherId`, `orderNum`, `createdAt`, `updatedAt` FROM `sys_departments` AS `sys_department` LIMIT 0, 10;
15:39:20: Executing (default): SELECT count(DISTINCT(`sys_user`.`id`)) AS `count` FROM `sys_users` AS `sys_user` LEFT OUTER JOIN `sys_departments` AS `sys_department` ON `sys_user`.`sysDepartmentId` = `sys_department`.`id` LEFT OUTER JOIN ( `user_role` AS `sys_roles->user_role` INNER JOIN `sys_roles` AS `sys_roles` ON `sys_roles`.`id` = `sys_roles->user_role`.`sysRoleId`) ON `sys_user`.`id` = `sys_roles->user_role`.`sysUserId`;
15:39:20: Executing (default): SELECT `sys_user`.*, `sys_department`.`id` AS `sys_department.id`, `sys_department`.`lang` AS `sys_department.lang`, `sys_department`.`tenphongban` AS `sys_department.tenphongban`, `sys_department`.`state` AS `sys_department.state`, `sys_department`.`fatherId` AS `sys_department.fatherId`, `sys_department`.`orderNum` AS `sys_department.orderNum`, `sys_department`.`createdAt` AS `sys_department.createdAt`, `sys_department`.`updatedAt` AS `sys_department.updatedAt`, `sys_roles`.`id` AS `sys_roles.id`, `sys_roles`.`lang` AS `sys_roles.lang`, `sys_roles`.`rolename` AS `sys_roles.rolename`, `sys_roles`.`mota` AS `sys_roles.mota`, `sys_roles`.`createdAt` AS `sys_roles.createdAt`, `sys_roles`.`updatedAt` AS `sys_roles.updatedAt`, `sys_roles->user_role`.`createdAt` AS `sys_roles.user_role.createdAt`, `sys_roles->user_role`.`updatedAt` AS `sys_roles.user_role.updatedAt`, `sys_roles->user_role`.`sysUserId` AS `sys_roles.user_role.sysUserId`, `sys_roles->user_role`.`sysRoleId` AS `sys_roles.user_role.sysRoleId` FROM (SELECT `sys_user`.`id`, `sys_user`.`name`, `sys_user`.`available`, `sys_user`.`sex`, `sys_user`.`dienthoai`, `sys_user`.`email`, `sys_user`.`lastLoginTime`, `sys_user`.`createdAt`, `sys_user`.`updatedAt`, `sys_user`.`phongban_id`, `sys_user`.`sysDepartmentId`, `sys_user`.`avatar` FROM `sys_users` AS `sys_user` LIMIT 0, 10) AS `sys_user` LEFT OUTER JOIN `sys_departments` AS `sys_department` ON `sys_user`.`sysDepartmentId` = `sys_department`.`id` LEFT OUTER JOIN ( `user_role` AS `sys_roles->user_role` INNER JOIN `sys_roles` AS `sys_roles` ON `sys_roles`.`id` = `sys_roles->user_role`.`sysRoleId`) ON `sys_user`.`id` = `sys_roles->user_role`.`sysUserId`;
16:20:1: Executing (default): SELECT 1+1 AS result
16:20:1: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
16:20:1: Executing (default): SHOW INDEX FROM `sys_menus`
16:20:1: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
16:20:1: Executing (default): SHOW INDEX FROM `sys_users`
16:20:1: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
16:20:1: Executing (default): SHOW INDEX FROM `sys_roles`
16:20:1: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
16:20:1: Executing (default): SHOW INDEX FROM `sys_departments`
16:20:1: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
16:20:1: Executing (default): SHOW INDEX FROM `tmt341_files`
16:20:1: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
16:20:1: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
16:20:1: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
16:20:1: Executing (default): SHOW INDEX FROM `user_role`
16:20:1: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
16:20:1: Executing (default): SHOW INDEX FROM `role_menu`
16:20:1: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
16:20:1: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
16:20:1: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:20:1: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
16:20:1: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
16:20:1: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
16:20:1: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
16:20:1: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
16:20:1: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
16:20:2: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
16:20:2: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
16:20:2: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
16:20:2: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
16:20:2: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
16:20:2: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
16:20:2: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:20:2: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:20:2: Executing (default): SHOW INDEX FROM `sys_menus`
16:20:2: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
16:20:2: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
16:20:2: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:20:2: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
16:20:2: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
16:20:2: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
16:20:2: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
16:20:2: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
16:20:2: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:20:2: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:20:2: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
16:20:2: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
16:20:2: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
16:20:2: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
16:20:2: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
16:20:2: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:20:2: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
16:20:3: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
16:20:3: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
16:20:3: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
16:20:3: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
16:20:3: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
16:20:3: Executing (default): SHOW INDEX FROM `sys_users`
16:20:3: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
16:20:3: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:20:3: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
16:20:3: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:20:3: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:20:3: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
16:20:3: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
16:20:3: Executing (default): SHOW INDEX FROM `sys_roles`
16:20:3: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
16:20:3: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
16:20:3: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:20:3: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
16:20:3: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:20:3: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:20:3: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
16:20:3: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
16:20:3: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
16:20:3: Executing (default): SHOW INDEX FROM `sys_departments`
16:20:3: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
16:20:3: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
16:20:3: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:20:3: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
16:20:3: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
16:20:3: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
16:20:3: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
16:20:3: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:20:3: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:20:4: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
16:20:4: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
16:20:4: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
16:20:4: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
16:20:4: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:20:4: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:20:4: Executing (default): SHOW INDEX FROM `tmt341_files`
16:20:4: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
16:20:4: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
16:20:4: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:20:4: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
16:20:4: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
16:20:4: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
16:20:4: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
16:20:4: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:20:4: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:20:4: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
16:20:4: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
16:20:5: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
16:20:5: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
16:20:5: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
16:20:5: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
16:20:5: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:20:5: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:20:5: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:20:5: Executing (default): SHOW INDEX FROM `user_role`
16:20:5: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
16:20:5: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
16:20:5: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:20:5: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:20:5: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:20:5: Executing (default): SHOW INDEX FROM `role_menu`
16:29:21: Executing (default): SELECT 1+1 AS result
16:29:21: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
16:29:21: Executing (default): SHOW INDEX FROM `sys_menus`
16:29:21: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
16:29:21: Executing (default): SHOW INDEX FROM `sys_users`
16:29:21: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
16:29:21: Executing (default): SHOW INDEX FROM `sys_roles`
16:29:21: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
16:29:21: Executing (default): SHOW INDEX FROM `sys_departments`
16:29:21: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
16:29:21: Executing (default): SHOW INDEX FROM `tmt341_files`
16:29:21: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
16:29:21: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
16:29:21: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
16:29:21: Executing (default): SHOW INDEX FROM `user_role`
16:29:21: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
16:29:21: Executing (default): SHOW INDEX FROM `role_menu`
16:29:21: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
16:29:21: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
16:29:21: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:29:21: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
16:29:21: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
16:29:21: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
16:29:21: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
16:29:22: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
16:29:22: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
16:29:22: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
16:29:22: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
16:29:22: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
16:29:22: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
16:29:22: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
16:29:22: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
16:29:22: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:29:22: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:29:22: Executing (default): SHOW INDEX FROM `sys_menus`
16:29:22: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
16:29:22: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:29:22: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
16:29:22: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
16:29:22: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
16:29:22: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
16:29:22: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
16:29:22: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:29:22: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:29:22: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
16:29:22: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
16:29:22: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
16:29:22: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
16:29:22: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:29:22: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
16:29:22: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
16:29:22: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
16:29:23: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
16:29:23: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
16:29:23: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
16:29:23: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
16:29:23: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
16:29:23: Executing (default): SHOW INDEX FROM `sys_users`
16:29:23: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
16:29:23: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
16:29:23: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:29:23: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:29:23: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:29:23: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
16:29:23: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
16:29:23: Executing (default): SHOW INDEX FROM `sys_roles`
16:29:23: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
16:29:23: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:29:23: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
16:29:23: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
16:29:23: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:29:23: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:29:23: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
16:29:23: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
16:29:23: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
16:29:23: Executing (default): SHOW INDEX FROM `sys_departments`
16:29:23: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
16:29:23: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:29:23: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
16:29:23: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
16:29:23: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
16:29:23: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
16:29:23: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
16:29:23: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:29:24: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:29:24: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
16:29:24: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
16:29:24: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
16:29:24: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
16:29:24: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:29:24: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:29:24: Executing (default): SHOW INDEX FROM `tmt341_files`
16:29:24: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
16:29:24: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
16:29:24: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:29:24: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
16:29:24: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
16:29:24: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
16:29:24: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
16:29:24: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:29:24: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:29:25: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
16:29:25: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
16:29:25: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
16:29:25: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
16:29:25: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
16:29:25: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:29:25: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
16:29:25: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:29:25: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:29:25: Executing (default): SHOW INDEX FROM `user_role`
16:29:25: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
16:29:25: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
16:29:25: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:29:25: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:29:25: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:29:25: Executing (default): SHOW INDEX FROM `role_menu`
16:30:10: Executing (default): SELECT 1+1 AS result
16:30:10: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
16:30:10: Executing (default): SHOW INDEX FROM `sys_menus`
16:30:10: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
16:30:10: Executing (default): SHOW INDEX FROM `sys_users`
16:30:10: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
16:30:10: Executing (default): SHOW INDEX FROM `sys_roles`
16:30:10: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
16:30:10: Executing (default): SHOW INDEX FROM `sys_departments`
16:30:10: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
16:30:10: Executing (default): SHOW INDEX FROM `tmt341_files`
16:30:10: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
16:30:10: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
16:30:10: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
16:30:10: Executing (default): SHOW INDEX FROM `user_role`
16:30:10: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
16:30:10: Executing (default): SHOW INDEX FROM `role_menu`
16:30:10: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
16:30:10: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
16:30:10: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:30:10: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
16:30:10: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
16:30:10: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
16:30:10: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
16:30:10: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
16:30:10: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
16:30:10: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
16:30:10: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
16:30:10: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
16:30:10: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
16:30:10: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
16:30:10: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:30:10: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:30:10: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
16:30:10: Executing (default): SHOW INDEX FROM `sys_menus`
16:30:10: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
16:30:10: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
16:30:10: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:30:10: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
16:30:10: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
16:30:10: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
16:30:10: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
16:30:11: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:30:11: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
16:30:11: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:30:11: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
16:30:11: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
16:30:11: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
16:30:11: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
16:30:11: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
16:30:11: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:30:11: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
16:30:11: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
16:30:11: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
16:30:11: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
16:30:11: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
16:30:11: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
16:30:11: Executing (default): SHOW INDEX FROM `sys_users`
16:30:11: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
16:30:11: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
16:30:11: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:30:11: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:30:11: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:30:11: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
16:30:11: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
16:30:11: Executing (default): SHOW INDEX FROM `sys_roles`
16:30:11: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
16:30:11: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:30:11: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
16:30:12: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
16:30:12: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:30:12: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:30:12: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
16:30:12: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
16:30:12: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
16:30:12: Executing (default): SHOW INDEX FROM `sys_departments`
16:30:12: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
16:30:12: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:30:12: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
16:30:12: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
16:30:12: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
16:30:12: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
16:30:12: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
16:30:12: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:30:12: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:30:12: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
16:30:12: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
16:30:12: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
16:30:12: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
16:30:12: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:30:12: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:30:13: Executing (default): SHOW INDEX FROM `tmt341_files`
16:30:13: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
16:30:13: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
16:30:13: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:30:13: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
16:30:13: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
16:30:13: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
16:30:13: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
16:30:13: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:30:13: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:30:13: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
16:30:13: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
16:30:13: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
16:30:13: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
16:30:13: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
16:30:13: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
16:30:13: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:30:13: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:30:13: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:30:13: Executing (default): SHOW INDEX FROM `user_role`
16:30:13: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
16:30:13: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
16:30:13: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:30:13: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:30:13: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:30:13: Executing (default): SHOW INDEX FROM `role_menu`
16:30:22: Executing (default): SELECT 1+1 AS result
16:30:22: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
16:30:22: Executing (default): SHOW INDEX FROM `sys_menus`
16:30:22: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
16:30:22: Executing (default): SHOW INDEX FROM `sys_users`
16:30:22: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
16:30:22: Executing (default): SHOW INDEX FROM `sys_roles`
16:30:22: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
16:30:22: Executing (default): SHOW INDEX FROM `sys_departments`
16:30:22: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
16:30:22: Executing (default): SHOW INDEX FROM `tmt341_files`
16:30:22: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
16:30:22: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
16:30:22: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
16:30:22: Executing (default): SHOW INDEX FROM `user_role`
16:30:22: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
16:30:22: Executing (default): SHOW INDEX FROM `role_menu`
16:30:22: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
16:30:22: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
16:30:22: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:30:22: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
16:30:22: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
16:30:22: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
16:30:22: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
16:30:23: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
16:30:23: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
16:30:23: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
16:30:23: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
16:30:23: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
16:30:23: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
16:30:23: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
16:30:23: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:30:23: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:30:23: Executing (default): SHOW INDEX FROM `sys_menus`
16:30:23: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
16:30:23: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
16:30:23: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:30:23: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
16:30:23: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
16:30:23: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
16:30:23: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
16:30:23: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:30:23: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:30:23: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
16:30:23: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
16:30:23: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
16:30:23: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:30:23: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
16:30:23: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
16:30:24: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
16:30:24: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
16:30:24: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
16:30:24: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
16:30:24: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
16:30:24: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
16:30:24: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
16:30:24: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
16:30:24: Executing (default): SHOW INDEX FROM `sys_users`
16:30:24: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
16:30:24: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
16:30:24: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:30:24: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:30:24: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:30:24: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
16:30:24: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
16:30:24: Executing (default): SHOW INDEX FROM `sys_roles`
16:30:24: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
16:30:24: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
16:30:24: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:30:24: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
16:30:24: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:30:24: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:30:24: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
16:30:24: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
16:30:24: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
16:30:24: Executing (default): SHOW INDEX FROM `sys_departments`
16:30:24: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
16:30:24: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
16:30:24: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:30:24: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
16:30:25: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
16:30:25: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
16:30:25: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
16:30:25: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:30:25: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:30:25: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
16:30:25: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
16:30:25: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
16:30:25: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
16:30:25: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:30:25: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:30:25: Executing (default): SHOW INDEX FROM `tmt341_files`
16:30:25: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
16:30:25: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
16:30:25: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:30:25: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
16:30:25: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
16:30:26: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
16:30:26: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
16:30:26: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:30:26: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:30:26: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
16:30:26: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
16:30:26: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
16:30:26: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
16:30:26: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
16:30:26: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
16:30:26: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:30:26: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:30:26: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:30:26: Executing (default): SHOW INDEX FROM `user_role`
16:30:26: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
16:30:26: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
16:30:26: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:30:26: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:30:26: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:30:26: Executing (default): SHOW INDEX FROM `role_menu`
16:30:42: Executing (default): SELECT 1+1 AS result
16:30:42: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
16:30:42: Executing (default): SHOW INDEX FROM `sys_menus`
16:30:42: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
16:30:42: Executing (default): SHOW INDEX FROM `sys_users`
16:30:42: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
16:30:42: Executing (default): SHOW INDEX FROM `sys_roles`
16:30:42: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
16:30:42: Executing (default): SHOW INDEX FROM `sys_departments`
16:30:42: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
16:30:42: Executing (default): SHOW INDEX FROM `tmt341_files`
16:30:42: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
16:30:42: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
16:30:42: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
16:30:42: Executing (default): SHOW INDEX FROM `user_role`
16:30:42: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
16:30:42: Executing (default): SHOW INDEX FROM `role_menu`
16:30:42: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
16:30:42: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
16:30:42: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:30:43: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
16:30:43: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
16:30:43: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
16:30:43: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
16:30:43: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
16:30:43: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
16:30:43: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
16:30:43: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
16:30:43: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
16:30:43: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
16:30:43: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
16:30:43: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:30:43: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:30:43: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
16:30:43: Executing (default): SHOW INDEX FROM `sys_menus`
16:30:43: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
16:30:43: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
16:30:43: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:30:43: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
16:30:43: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
16:30:43: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
16:30:43: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:30:43: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:30:43: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
16:30:43: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
16:30:43: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
16:30:43: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
16:30:43: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
16:30:43: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
16:30:44: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
16:30:44: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:30:44: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
16:30:44: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
16:30:44: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
16:30:44: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
16:30:44: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
16:30:44: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
16:30:44: Executing (default): SHOW INDEX FROM `sys_users`
16:30:44: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
16:30:44: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:30:44: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
16:30:44: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:30:44: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:30:44: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
16:30:44: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
16:30:44: Executing (default): SHOW INDEX FROM `sys_roles`
16:30:44: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
16:30:44: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
16:30:44: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:30:44: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
16:30:44: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:30:44: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:30:45: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
16:30:45: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
16:30:45: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
16:30:45: Executing (default): SHOW INDEX FROM `sys_departments`
16:30:45: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
16:30:45: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
16:30:45: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:30:45: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
16:30:45: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
16:30:45: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
16:30:45: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
16:30:45: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:30:45: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:30:45: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
16:30:45: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
16:30:45: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
16:30:45: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
16:30:45: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:30:45: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:30:46: Executing (default): SHOW INDEX FROM `tmt341_files`
16:30:46: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
16:30:46: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:30:46: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
16:30:46: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
16:30:46: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
16:30:46: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
16:30:46: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
16:30:46: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:30:46: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:30:46: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
16:30:46: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
16:30:46: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
16:30:46: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
16:30:46: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
16:30:46: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:30:46: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
16:30:46: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:30:46: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:30:46: Executing (default): SHOW INDEX FROM `user_role`
16:30:46: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
16:30:46: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
16:30:46: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:30:46: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:30:46: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:30:46: Executing (default): SHOW INDEX FROM `role_menu`
16:31:1: Executing (default): SELECT 1+1 AS result
16:31:1: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
16:31:1: Executing (default): SHOW INDEX FROM `sys_menus`
16:31:1: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
16:31:1: Executing (default): SHOW INDEX FROM `sys_users`
16:31:1: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
16:31:1: Executing (default): SHOW INDEX FROM `sys_roles`
16:31:1: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
16:31:1: Executing (default): SHOW INDEX FROM `sys_departments`
16:31:1: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
16:31:1: Executing (default): SHOW INDEX FROM `tmt341_files`
16:31:1: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
16:31:1: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
16:31:1: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
16:31:1: Executing (default): SHOW INDEX FROM `user_role`
16:31:1: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
16:31:1: Executing (default): SHOW INDEX FROM `role_menu`
16:31:1: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
16:31:1: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
16:31:1: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:31:1: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
16:31:1: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
16:31:1: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
16:31:1: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
16:31:2: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
16:31:2: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
16:31:2: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
16:31:2: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
16:31:2: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
16:31:2: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
16:31:2: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
16:31:2: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
16:31:2: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:31:2: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
16:31:2: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:31:2: Executing (default): SHOW INDEX FROM `sys_menus`
16:31:2: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
16:31:2: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
16:31:2: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:31:2: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
16:31:2: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
16:31:2: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
16:31:2: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
16:31:2: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
16:31:2: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
16:31:2: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:31:2: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:31:2: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
16:31:2: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
16:31:2: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
16:31:2: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
16:31:2: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:31:3: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
16:31:3: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
16:31:3: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
16:31:3: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
16:31:3: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
16:31:3: Executing (default): SHOW INDEX FROM `sys_users`
16:31:3: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
16:31:3: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
16:31:3: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:31:3: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:31:3: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:31:3: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
16:31:3: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
16:31:3: Executing (default): SHOW INDEX FROM `sys_roles`
16:31:3: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
16:31:3: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:31:3: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
16:31:3: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
16:31:3: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:31:3: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:31:3: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
16:31:3: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
16:31:3: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
16:31:3: Executing (default): SHOW INDEX FROM `sys_departments`
16:31:3: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
16:31:3: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
16:31:3: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:31:3: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
16:31:3: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
16:31:3: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
16:31:3: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
16:31:3: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:31:4: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:31:4: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
16:31:4: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
16:31:4: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
16:31:4: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
16:31:4: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:31:4: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:31:4: Executing (default): SHOW INDEX FROM `tmt341_files`
16:31:4: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
16:31:4: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
16:31:4: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:31:4: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
16:31:4: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
16:31:4: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
16:31:4: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
16:31:4: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:31:4: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:31:4: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
16:31:5: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
16:31:5: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
16:31:5: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
16:31:5: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
16:31:5: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
16:31:5: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:31:5: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:31:5: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:31:5: Executing (default): SHOW INDEX FROM `user_role`
16:31:5: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
16:31:5: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
16:31:5: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:31:5: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:31:5: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:31:5: Executing (default): SHOW INDEX FROM `role_menu`
16:33:32: Executing (default): SELECT 1+1 AS result
16:33:33: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
16:33:33: Executing (default): SHOW INDEX FROM `sys_menus`
16:33:33: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
16:33:33: Executing (default): SHOW INDEX FROM `sys_users`
16:33:33: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
16:33:33: Executing (default): SHOW INDEX FROM `sys_roles`
16:33:33: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
16:33:33: Executing (default): SHOW INDEX FROM `sys_departments`
16:33:33: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
16:33:33: Executing (default): SHOW INDEX FROM `tmt341_files`
16:33:33: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
16:33:33: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
16:33:33: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
16:33:33: Executing (default): SHOW INDEX FROM `user_role`
16:33:33: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
16:33:33: Executing (default): SHOW INDEX FROM `role_menu`
16:33:33: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
16:33:33: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
16:33:33: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:33:33: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
16:33:33: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
16:33:33: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
16:33:33: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
16:33:33: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
16:33:33: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
16:33:33: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
16:33:33: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
16:33:33: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
16:33:33: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
16:33:33: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
16:33:33: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:33:33: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:33:33: Executing (default): SHOW INDEX FROM `sys_menus`
16:33:33: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
16:33:33: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
16:33:33: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:33:33: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
16:33:33: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
16:33:33: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
16:33:33: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
16:33:34: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:33:34: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
16:33:34: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:33:34: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
16:33:34: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
16:33:34: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
16:33:34: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
16:33:34: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
16:33:34: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
16:33:34: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:33:34: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
16:33:34: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
16:33:34: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
16:33:34: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
16:33:34: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
16:33:34: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
16:33:34: Executing (default): SHOW INDEX FROM `sys_users`
16:33:34: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
16:33:34: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
16:33:34: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:33:34: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:33:34: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:33:34: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
16:33:34: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
16:33:35: Executing (default): SHOW INDEX FROM `sys_roles`
16:33:35: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
16:33:35: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
16:33:35: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:33:35: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
16:33:35: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:33:35: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:33:35: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
16:33:35: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
16:33:35: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
16:33:35: Executing (default): SHOW INDEX FROM `sys_departments`
16:33:35: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
16:33:35: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
16:33:35: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:33:35: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
16:33:35: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
16:33:35: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
16:33:35: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
16:33:35: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:33:35: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:33:35: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
16:33:35: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
16:33:35: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
16:33:35: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
16:33:35: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:33:35: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:33:36: Executing (default): SHOW INDEX FROM `tmt341_files`
16:33:36: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
16:33:36: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
16:33:36: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:33:36: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
16:33:36: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
16:33:36: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
16:33:36: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
16:33:36: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:33:36: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:33:36: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
16:33:36: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
16:33:36: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
16:33:36: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
16:33:36: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
16:33:36: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
16:33:36: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:33:36: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:33:36: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:33:36: Executing (default): SHOW INDEX FROM `user_role`
16:33:36: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
16:33:36: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:33:36: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
16:33:36: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:33:36: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:33:36: Executing (default): SHOW INDEX FROM `role_menu`
16:33:57: Executing (default): SELECT 1+1 AS result
16:33:57: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
16:33:57: Executing (default): SHOW INDEX FROM `sys_menus`
16:33:57: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
16:33:57: Executing (default): SHOW INDEX FROM `sys_users`
16:33:57: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
16:33:57: Executing (default): SHOW INDEX FROM `sys_roles`
16:33:57: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
16:33:57: Executing (default): SHOW INDEX FROM `sys_departments`
16:33:57: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
16:33:57: Executing (default): SHOW INDEX FROM `tmt341_files`
16:33:57: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
16:33:57: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
16:33:57: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
16:33:57: Executing (default): SHOW INDEX FROM `user_role`
16:33:57: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
16:33:57: Executing (default): SHOW INDEX FROM `role_menu`
16:33:57: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
16:33:57: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
16:33:57: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:33:57: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
16:33:57: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
16:33:57: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
16:33:57: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
16:33:57: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
16:33:57: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
16:33:57: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
16:33:57: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
16:33:57: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
16:33:57: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
16:33:57: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
16:33:57: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:33:57: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
16:33:58: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:33:58: Executing (default): SHOW INDEX FROM `sys_menus`
16:33:58: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
16:33:58: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
16:33:58: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:33:58: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
16:33:58: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
16:33:58: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
16:33:58: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
16:33:58: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
16:33:58: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:33:58: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:33:58: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
16:33:58: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
16:33:58: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
16:33:58: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
16:33:58: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
16:33:58: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:33:58: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
16:33:58: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
16:33:58: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
16:33:58: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
16:33:58: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
16:33:58: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
16:33:58: Executing (default): SHOW INDEX FROM `sys_users`
16:33:58: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
16:33:58: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
16:33:58: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:33:58: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:33:58: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:33:59: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
16:33:59: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
16:33:59: Executing (default): SHOW INDEX FROM `sys_roles`
16:33:59: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
16:33:59: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:33:59: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
16:33:59: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
16:33:59: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:33:59: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:33:59: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
16:33:59: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
16:33:59: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
16:33:59: Executing (default): SHOW INDEX FROM `sys_departments`
16:33:59: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
16:33:59: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
16:33:59: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:33:59: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
16:33:59: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
16:33:59: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
16:33:59: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
16:33:59: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:33:59: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:33:59: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
16:33:59: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
16:33:59: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
16:33:59: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
16:33:59: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:33:59: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:34:0: Executing (default): SHOW INDEX FROM `tmt341_files`
16:34:0: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
16:34:0: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
16:34:0: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:34:0: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
16:34:0: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
16:34:0: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
16:34:0: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
16:34:0: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:34:0: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:34:0: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
16:34:0: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
16:34:0: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
16:34:0: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
16:34:0: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
16:34:0: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
16:34:0: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:34:0: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:34:0: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:34:0: Executing (default): SHOW INDEX FROM `user_role`
16:34:0: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
16:34:0: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
16:34:0: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:34:0: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:34:0: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:34:0: Executing (default): SHOW INDEX FROM `role_menu`
16:35:30: Executing (default): SELECT 1+1 AS result
16:35:30: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
16:35:30: Executing (default): SHOW INDEX FROM `sys_menus`
16:35:30: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
16:35:30: Executing (default): SHOW INDEX FROM `sys_users`
16:35:30: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
16:35:30: Executing (default): SHOW INDEX FROM `sys_roles`
16:35:30: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
16:35:30: Executing (default): SHOW INDEX FROM `sys_departments`
16:35:30: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
16:35:30: Executing (default): SHOW INDEX FROM `tmt341_files`
16:35:30: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
16:35:30: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
16:35:30: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
16:35:30: Executing (default): SHOW INDEX FROM `user_role`
16:35:30: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
16:35:30: Executing (default): SHOW INDEX FROM `role_menu`
16:35:30: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
16:35:30: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
16:35:30: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:35:30: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
16:35:30: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
16:35:30: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
16:35:31: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
16:35:31: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
16:35:31: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
16:35:31: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
16:35:31: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
16:35:31: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
16:35:31: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
16:35:31: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
16:35:31: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:35:31: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:35:31: Executing (default): SHOW INDEX FROM `sys_menus`
16:35:31: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
16:35:31: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
16:35:31: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:35:31: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
16:35:31: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
16:35:31: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
16:35:31: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
16:35:31: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:35:31: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:35:31: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
16:35:31: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
16:35:31: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
16:35:31: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
16:35:31: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
16:35:31: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:35:31: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
16:35:31: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
16:35:32: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
16:35:32: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
16:35:32: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
16:35:32: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
16:35:32: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
16:35:32: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
16:35:32: Executing (default): SHOW INDEX FROM `sys_users`
16:35:32: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
16:35:32: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
16:35:32: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:35:32: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:35:32: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:35:32: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
16:35:32: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
16:35:32: Executing (default): SHOW INDEX FROM `sys_roles`
16:35:32: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
16:35:32: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:35:32: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
16:35:32: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
16:35:32: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:35:32: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:35:32: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
16:35:32: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
16:35:32: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
16:35:33: Executing (default): SHOW INDEX FROM `sys_departments`
16:35:33: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
16:35:33: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
16:35:33: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:35:33: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
16:35:33: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
16:35:33: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
16:35:33: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
16:35:33: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:35:33: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:35:33: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
16:35:33: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
16:35:33: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
16:35:33: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
16:35:33: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:35:33: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:35:33: Executing (default): SHOW INDEX FROM `tmt341_files`
16:35:33: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
16:35:33: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
16:35:33: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:35:33: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
16:35:34: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
16:35:34: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
16:35:34: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
16:35:34: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:35:34: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:35:34: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
16:35:34: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
16:35:34: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
16:35:34: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
16:35:34: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
16:35:34: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
16:35:34: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:35:34: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:35:34: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:35:34: Executing (default): SHOW INDEX FROM `user_role`
16:35:34: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
16:35:34: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:35:34: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
16:35:34: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:35:34: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:35:34: Executing (default): SHOW INDEX FROM `role_menu`
16:44:26: Executing (default): SELECT 1+1 AS result
16:44:26: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
16:44:26: Executing (default): SHOW INDEX FROM `sys_menus`
16:44:26: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
16:44:26: Executing (default): SHOW INDEX FROM `sys_users`
16:44:26: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
16:44:26: Executing (default): SHOW INDEX FROM `sys_roles`
16:44:26: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
16:44:26: Executing (default): SHOW INDEX FROM `sys_departments`
16:44:26: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
16:44:26: Executing (default): SHOW INDEX FROM `tmt341_files`
16:44:26: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
16:44:26: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
16:44:26: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
16:44:26: Executing (default): SHOW INDEX FROM `user_role`
16:44:26: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
16:44:26: Executing (default): SHOW INDEX FROM `role_menu`
16:44:26: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
16:44:26: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
16:44:26: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:44:26: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
16:44:26: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
16:44:26: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
16:44:26: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
16:44:26: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
16:44:26: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
16:44:26: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
16:44:26: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
16:44:26: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
16:44:26: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
16:44:26: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
16:44:26: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
16:44:26: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:44:26: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:44:26: Executing (default): SHOW INDEX FROM `sys_menus`
16:44:26: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
16:44:26: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
16:44:26: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:44:26: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
16:44:26: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
16:44:26: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
16:44:26: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:44:27: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
16:44:27: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
16:44:27: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:44:27: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
16:44:27: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
16:44:27: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
16:44:27: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
16:44:27: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
16:44:27: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:44:27: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
16:44:27: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
16:44:27: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
16:44:27: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
16:44:27: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
16:44:27: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
16:44:27: Executing (default): SHOW INDEX FROM `sys_users`
16:44:27: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
16:44:27: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
16:44:27: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:44:27: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:44:27: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:44:27: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
16:44:27: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
16:44:28: Executing (default): SHOW INDEX FROM `sys_roles`
16:44:28: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
16:44:28: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:44:28: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
16:44:28: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
16:44:28: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:44:28: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:44:28: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
16:44:28: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
16:44:28: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
16:44:28: Executing (default): SHOW INDEX FROM `sys_departments`
16:44:28: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
16:44:28: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:44:28: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
16:44:28: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
16:44:28: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
16:44:28: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
16:44:28: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
16:44:28: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:44:28: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:44:28: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
16:44:28: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
16:44:28: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
16:44:28: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
16:44:28: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:44:28: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:44:29: Executing (default): SHOW INDEX FROM `tmt341_files`
16:44:29: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
16:44:29: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
16:44:29: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:44:29: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
16:44:29: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
16:44:29: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
16:44:29: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
16:44:29: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:44:29: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:44:29: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
16:44:29: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
16:44:29: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
16:44:29: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
16:44:29: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
16:44:29: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
16:44:29: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:44:29: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:44:29: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:44:29: Executing (default): SHOW INDEX FROM `user_role`
16:44:29: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
16:44:29: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
16:44:29: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:44:29: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:44:29: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:44:29: Executing (default): SHOW INDEX FROM `role_menu`
16:44:39: Executing (default): SELECT 1+1 AS result
16:44:39: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
16:44:39: Executing (default): SHOW INDEX FROM `sys_menus`
16:44:39: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
16:44:39: Executing (default): SHOW INDEX FROM `sys_users`
16:44:39: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
16:44:39: Executing (default): SHOW INDEX FROM `sys_roles`
16:44:39: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
16:44:39: Executing (default): SHOW INDEX FROM `sys_departments`
16:44:39: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
16:44:39: Executing (default): SHOW INDEX FROM `tmt341_files`
16:44:39: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
16:44:39: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
16:44:39: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
16:44:39: Executing (default): SHOW INDEX FROM `user_role`
16:44:39: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
16:44:39: Executing (default): SHOW INDEX FROM `role_menu`
16:44:39: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
16:44:39: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
16:44:39: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:44:39: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
16:44:39: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
16:44:39: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
16:44:39: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
16:44:39: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
16:44:39: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
16:44:40: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
16:44:40: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
16:44:40: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
16:44:40: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
16:44:40: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
16:44:40: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
16:44:40: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:44:40: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:44:40: Executing (default): SHOW INDEX FROM `sys_menus`
16:44:40: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
16:44:40: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
16:44:40: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:44:40: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
16:44:40: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
16:44:40: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
16:44:40: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
16:44:40: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:44:40: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
16:44:40: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:44:40: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
16:44:40: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
16:44:40: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
16:44:40: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
16:44:40: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
16:44:40: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
16:44:40: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:44:41: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
16:44:41: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
16:44:41: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
16:44:41: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
16:44:41: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
16:44:41: Executing (default): SHOW INDEX FROM `sys_users`
16:44:41: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
16:44:41: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
16:44:41: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:44:41: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:44:41: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:44:41: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
16:44:41: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
16:44:41: Executing (default): SHOW INDEX FROM `sys_roles`
16:44:41: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
16:44:41: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:44:41: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
16:44:41: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
16:44:41: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:44:41: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:44:41: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
16:44:41: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
16:44:41: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
16:44:41: Executing (default): SHOW INDEX FROM `sys_departments`
16:44:41: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
16:44:41: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
16:44:41: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:44:41: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
16:44:41: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
16:44:41: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
16:44:41: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
16:44:42: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:44:42: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:44:42: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
16:44:42: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
16:44:42: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
16:44:42: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
16:44:42: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:44:42: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:44:42: Executing (default): SHOW INDEX FROM `tmt341_files`
16:44:42: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
16:44:42: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
16:44:42: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:44:42: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
16:44:42: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
16:44:42: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
16:44:42: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
16:44:42: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:44:42: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:44:42: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
16:44:43: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
16:44:43: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
16:44:43: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
16:44:43: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
16:44:43: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:44:43: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
16:44:43: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:44:43: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:44:43: Executing (default): SHOW INDEX FROM `user_role`
16:44:43: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
16:44:43: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
16:44:43: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:44:43: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:44:43: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:44:43: Executing (default): SHOW INDEX FROM `role_menu`
16:48:43: Executing (default): SELECT 1+1 AS result
16:48:43: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
16:48:43: Executing (default): SHOW INDEX FROM `sys_menus`
16:48:43: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
16:48:43: Executing (default): SHOW INDEX FROM `sys_users`
16:48:43: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
16:48:43: Executing (default): SHOW INDEX FROM `sys_roles`
16:48:43: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
16:48:43: Executing (default): SHOW INDEX FROM `sys_departments`
16:48:43: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
16:48:43: Executing (default): SHOW INDEX FROM `tmt341_files`
16:48:43: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
16:48:43: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
16:48:43: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
16:48:43: Executing (default): SHOW INDEX FROM `user_role`
16:48:43: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
16:48:43: Executing (default): SHOW INDEX FROM `role_menu`
16:48:43: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
16:48:43: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
16:48:43: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:48:43: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
16:48:43: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
16:48:43: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
16:48:43: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
16:48:44: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
16:48:44: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
16:48:44: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
16:48:44: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
16:48:44: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
16:48:44: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
16:48:44: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
16:48:44: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
16:48:44: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:48:44: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:48:44: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
16:48:44: Executing (default): SHOW INDEX FROM `sys_menus`
16:48:44: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
16:48:44: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
16:48:44: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:48:44: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
16:48:44: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
16:48:44: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
16:48:44: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
16:48:44: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
16:48:44: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
16:48:44: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:48:44: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:48:44: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
16:48:44: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
16:48:44: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
16:48:44: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
16:48:44: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:48:45: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
16:48:45: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
16:48:45: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
16:48:45: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
16:48:45: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
16:48:45: Executing (default): SHOW INDEX FROM `sys_users`
16:48:45: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
16:48:45: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
16:48:45: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:48:45: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:48:45: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:48:45: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
16:48:45: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
16:48:45: Executing (default): SHOW INDEX FROM `sys_roles`
16:48:45: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
16:48:45: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
16:48:45: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:48:45: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
16:48:45: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:48:45: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:48:45: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
16:48:45: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
16:48:45: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
16:48:45: Executing (default): SHOW INDEX FROM `sys_departments`
16:48:45: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
16:48:45: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
16:48:45: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:48:45: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
16:48:45: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
16:48:45: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
16:48:46: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
16:48:46: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:48:46: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:48:46: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
16:48:46: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
16:48:46: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
16:48:46: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
16:48:46: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:48:46: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:48:46: Executing (default): SHOW INDEX FROM `tmt341_files`
16:48:46: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
16:48:46: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
16:48:46: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:48:46: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
16:48:46: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
16:48:46: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
16:48:46: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
16:48:46: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:48:47: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:48:47: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
16:48:47: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
16:48:47: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
16:48:47: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
16:48:47: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
16:48:47: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
16:48:47: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:48:47: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:48:47: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:48:47: Executing (default): SHOW INDEX FROM `user_role`
16:48:47: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
16:48:47: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
16:48:47: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:48:47: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:48:47: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:48:47: Executing (default): SHOW INDEX FROM `role_menu`
16:49:25: Executing (default): SELECT 1+1 AS result
16:49:25: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
16:49:25: Executing (default): SHOW INDEX FROM `sys_menus`
16:49:25: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
16:49:25: Executing (default): SHOW INDEX FROM `sys_users`
16:49:25: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
16:49:25: Executing (default): SHOW INDEX FROM `sys_roles`
16:49:25: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
16:49:25: Executing (default): SHOW INDEX FROM `sys_departments`
16:49:25: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
16:49:25: Executing (default): SHOW INDEX FROM `tmt341_files`
16:49:25: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
16:49:25: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
16:49:25: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
16:49:25: Executing (default): SHOW INDEX FROM `user_role`
16:49:25: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
16:49:25: Executing (default): SHOW INDEX FROM `role_menu`
16:49:25: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
16:49:25: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
16:49:25: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:49:25: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
16:49:25: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
16:49:26: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
16:49:26: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
16:49:26: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
16:49:26: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
16:49:26: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
16:49:26: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
16:49:26: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
16:49:26: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
16:49:26: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
16:49:26: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:49:26: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:49:26: Executing (default): SHOW INDEX FROM `sys_menus`
16:49:26: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
16:49:26: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
16:49:26: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:49:26: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
16:49:26: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
16:49:26: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
16:49:26: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
16:49:26: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:49:26: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:49:26: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
16:49:26: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
16:49:26: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
16:49:27: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:49:27: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
16:49:27: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
16:49:27: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
16:49:27: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
16:49:27: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
16:49:27: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
16:49:27: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
16:49:27: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
16:49:27: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
16:49:27: Executing (default): SHOW INDEX FROM `sys_users`
16:49:27: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
16:49:27: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:49:27: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
16:49:27: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:49:27: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
16:49:27: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:49:27: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
16:49:27: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
16:49:27: Executing (default): SHOW INDEX FROM `sys_roles`
16:49:27: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
16:49:27: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
16:49:27: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:49:27: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
16:49:27: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:49:27: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:49:27: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
16:49:27: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
16:49:27: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
16:49:27: Executing (default): SHOW INDEX FROM `sys_departments`
16:49:28: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
16:49:28: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
16:49:28: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:49:28: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
16:49:28: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
16:49:28: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
16:49:28: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
16:49:28: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:49:28: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:49:28: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
16:49:28: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
16:49:28: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
16:49:28: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
16:49:28: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:49:28: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:49:28: Executing (default): SHOW INDEX FROM `tmt341_files`
16:49:28: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
16:49:28: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
16:49:28: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:49:28: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
16:49:28: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
16:49:29: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
16:49:29: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
16:49:29: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:49:29: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:49:29: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
16:49:29: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
16:49:29: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
16:49:29: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
16:49:29: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
16:49:29: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
16:49:29: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:49:29: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:49:29: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:49:29: Executing (default): SHOW INDEX FROM `user_role`
16:49:29: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
16:49:29: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
16:49:29: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:49:29: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:49:29: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:49:29: Executing (default): SHOW INDEX FROM `role_menu`
16:50:40: Executing (default): SELECT 1+1 AS result
16:50:40: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
16:50:40: Executing (default): SHOW INDEX FROM `sys_menus`
16:50:40: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
16:50:40: Executing (default): SHOW INDEX FROM `sys_users`
16:50:40: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
16:50:40: Executing (default): SHOW INDEX FROM `sys_roles`
16:50:40: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
16:50:40: Executing (default): SHOW INDEX FROM `sys_departments`
16:50:40: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
16:50:40: Executing (default): SHOW INDEX FROM `tmt341_files`
16:50:40: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
16:50:40: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
16:50:40: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
16:50:40: Executing (default): SHOW INDEX FROM `user_role`
16:50:40: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
16:50:40: Executing (default): SHOW INDEX FROM `role_menu`
16:50:40: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
16:50:40: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
16:50:40: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:50:40: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
16:50:40: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
16:50:40: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
16:50:41: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
16:50:41: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
16:50:41: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
16:50:41: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
16:50:41: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
16:50:41: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
16:50:41: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
16:50:41: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
16:50:41: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:50:41: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:50:41: Executing (default): SHOW INDEX FROM `sys_menus`
16:50:41: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
16:50:41: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:50:41: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
16:50:41: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
16:50:41: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
16:50:41: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
16:50:41: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
16:50:41: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:50:41: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:50:41: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
16:50:41: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
16:50:41: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
16:50:41: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
16:50:41: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:50:42: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
16:50:42: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
16:50:42: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
16:50:42: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
16:50:42: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
16:50:42: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
16:50:42: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
16:50:42: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
16:50:42: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
16:50:42: Executing (default): SHOW INDEX FROM `sys_users`
16:50:42: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
16:50:42: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
16:50:42: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:50:42: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:50:42: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:50:42: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
16:50:42: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
16:50:42: Executing (default): SHOW INDEX FROM `sys_roles`
16:50:42: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
16:50:42: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
16:50:42: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:50:42: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
16:50:42: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:50:42: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:50:42: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
16:50:42: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
16:50:42: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
16:50:42: Executing (default): SHOW INDEX FROM `sys_departments`
16:50:42: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
16:50:42: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
16:50:42: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:50:42: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
16:50:42: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
16:50:43: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
16:50:43: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
16:50:43: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:50:43: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:50:43: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
16:50:43: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
16:50:43: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
16:50:43: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
16:50:43: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:50:43: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
16:50:43: Executing (default): SHOW INDEX FROM `tmt341_files`
16:50:43: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
16:50:43: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
16:50:43: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:50:43: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
16:50:43: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
16:50:44: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
16:50:44: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
16:50:44: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:50:44: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:50:44: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
16:50:44: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
16:50:44: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
16:50:44: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
16:50:44: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
16:50:44: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
16:50:44: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:50:44: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:50:44: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:50:44: Executing (default): SHOW INDEX FROM `user_role`
16:50:44: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
16:50:44: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
16:50:44: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
16:50:44: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
16:50:44: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
16:50:44: Executing (default): SHOW INDEX FROM `role_menu`
17:33:15: Executing (default): SELECT 1+1 AS result
17:33:15: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
17:33:15: Executing (default): SHOW INDEX FROM `sys_menus`
17:33:15: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
17:33:15: Executing (default): SHOW INDEX FROM `sys_users`
17:33:15: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
17:33:15: Executing (default): SHOW INDEX FROM `sys_roles`
17:33:15: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
17:33:15: Executing (default): SHOW INDEX FROM `sys_departments`
17:33:15: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
17:33:15: Executing (default): SHOW INDEX FROM `tmt341_files`
17:33:15: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
17:33:15: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
17:33:15: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
17:33:15: Executing (default): SHOW INDEX FROM `user_role`
17:33:15: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
17:33:15: Executing (default): SHOW INDEX FROM `role_menu`
17:33:15: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
17:33:15: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
17:33:15: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
17:33:15: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
17:33:15: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
17:33:16: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
17:33:16: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
17:33:16: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
17:33:16: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
17:33:16: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
17:33:16: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
17:33:16: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
17:33:16: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
17:33:16: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
17:33:16: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
17:33:16: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
17:33:16: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
17:33:16: Executing (default): SHOW INDEX FROM `sys_menus`
17:33:16: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
17:33:16: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
17:33:16: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
17:33:16: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
17:33:16: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
17:33:16: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
17:33:16: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
17:33:16: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
17:33:16: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
17:33:16: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
17:33:16: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
17:33:16: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
17:33:16: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
17:33:16: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
17:33:16: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
17:33:16: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
17:33:17: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
17:33:17: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
17:33:17: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
17:33:17: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
17:33:17: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
17:33:17: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
17:33:17: Executing (default): SHOW INDEX FROM `sys_users`
17:33:17: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
17:33:17: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
17:33:17: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
17:33:17: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
17:33:17: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
17:33:17: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
17:33:17: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
17:33:17: Executing (default): SHOW INDEX FROM `sys_roles`
17:33:17: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
17:33:17: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
17:33:17: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
17:33:17: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
17:33:17: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
17:33:17: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
17:33:17: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
17:33:17: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
17:33:17: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
17:33:17: Executing (default): SHOW INDEX FROM `sys_departments`
17:33:17: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
17:33:17: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
17:33:17: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
17:33:17: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
17:33:17: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
17:33:18: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
17:33:18: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
17:33:18: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
17:33:18: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
17:33:18: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
17:33:18: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
17:33:18: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
17:33:18: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
17:33:18: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
17:33:18: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
17:33:18: Executing (default): SHOW INDEX FROM `tmt341_files`
17:33:18: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
17:33:18: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
17:33:18: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
17:33:18: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
17:33:18: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
17:33:18: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
17:33:19: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
17:33:19: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
17:33:19: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
17:33:19: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
17:33:19: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
17:33:19: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
17:33:19: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
17:33:19: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
17:33:19: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
17:33:19: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
17:33:19: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
17:33:19: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
17:33:19: Executing (default): SHOW INDEX FROM `user_role`
17:33:19: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
17:33:19: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
17:33:19: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
17:33:19: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
17:33:19: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
17:33:19: Executing (default): SHOW INDEX FROM `role_menu`
17:33:49: Executing (default): SELECT 1+1 AS result
17:33:49: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
17:33:49: Executing (default): SHOW INDEX FROM `sys_menus`
17:33:49: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
17:33:49: Executing (default): SHOW INDEX FROM `sys_users`
17:33:49: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
17:33:49: Executing (default): SHOW INDEX FROM `sys_roles`
17:33:49: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
17:33:49: Executing (default): SHOW INDEX FROM `sys_departments`
17:33:49: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
17:33:49: Executing (default): SHOW INDEX FROM `tmt341_files`
17:33:49: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
17:33:49: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
17:33:49: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
17:33:49: Executing (default): SHOW INDEX FROM `user_role`
17:33:49: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
17:33:49: Executing (default): SHOW INDEX FROM `role_menu`
17:33:49: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
17:33:49: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
17:33:49: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
17:33:49: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
17:33:49: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
17:33:49: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
17:33:49: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
17:33:49: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
17:33:49: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
17:33:49: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
17:33:49: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
17:33:49: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
17:33:49: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
17:33:49: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
17:33:49: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
17:33:50: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
17:33:50: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
17:33:50: Executing (default): SHOW INDEX FROM `sys_menus`
17:33:50: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
17:33:50: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
17:33:50: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
17:33:50: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
17:33:50: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
17:33:50: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
17:33:50: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
17:33:52: Executing (default): SELECT 1+1 AS result
17:33:52: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
17:33:52: Executing (default): SHOW INDEX FROM `sys_menus`
17:33:53: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
17:33:53: Executing (default): SHOW INDEX FROM `sys_users`
17:33:53: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
17:33:53: Executing (default): SHOW INDEX FROM `sys_roles`
17:33:53: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
17:33:53: Executing (default): SHOW INDEX FROM `sys_departments`
17:33:53: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
17:33:53: Executing (default): SHOW INDEX FROM `tmt341_files`
17:33:53: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
17:33:53: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
17:33:53: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
17:33:53: Executing (default): SHOW INDEX FROM `user_role`
17:33:53: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
17:33:53: Executing (default): SHOW INDEX FROM `role_menu`
17:33:53: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
17:33:53: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
17:33:53: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
17:33:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
17:33:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
17:33:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
17:33:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
17:33:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
17:33:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
17:33:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
17:33:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
17:33:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
17:33:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
17:33:53: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
17:33:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
17:33:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
17:33:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
17:33:53: Executing (default): SHOW INDEX FROM `sys_menus`
17:33:53: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
17:33:53: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
17:33:53: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
17:33:53: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
17:33:53: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
17:33:53: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
17:33:53: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
17:33:54: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
17:33:54: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
17:33:54: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
17:33:54: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
17:33:54: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
17:33:54: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
17:33:54: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
17:33:54: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
17:33:54: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
17:33:54: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
17:33:54: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
17:33:54: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
17:33:54: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
17:33:54: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
17:33:54: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
17:33:54: Executing (default): SHOW INDEX FROM `sys_users`
17:33:54: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
17:33:54: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
17:33:54: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
17:33:54: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
17:33:54: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
17:33:54: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
17:33:54: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
17:33:55: Executing (default): SHOW INDEX FROM `sys_roles`
17:33:55: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
17:33:55: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
17:33:55: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
17:33:55: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
17:33:55: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
17:33:55: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
17:33:55: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
17:33:55: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
17:33:55: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
17:33:55: Executing (default): SHOW INDEX FROM `sys_departments`
17:33:55: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
17:33:55: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
17:33:55: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
17:33:55: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
17:33:55: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
17:33:55: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
17:33:55: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
17:33:55: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
17:33:55: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
17:33:55: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
17:33:55: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
17:33:55: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
17:33:55: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
17:33:55: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
17:33:55: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
17:33:56: Executing (default): SHOW INDEX FROM `tmt341_files`
17:33:56: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
17:33:56: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
17:33:56: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
17:33:56: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
17:33:56: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
17:33:56: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
17:33:56: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
17:33:56: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
17:33:56: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
17:33:56: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
17:33:56: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
17:33:56: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
17:33:56: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
17:33:56: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
17:33:56: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
17:33:56: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
17:33:56: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
17:33:56: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
17:33:56: Executing (default): SHOW INDEX FROM `user_role`
17:33:56: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
17:33:56: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
17:33:56: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
17:33:56: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
17:33:56: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
17:33:56: Executing (default): SHOW INDEX FROM `role_menu`
17:34:25: Executing (default): SELECT 1+1 AS result
17:34:25: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
17:34:25: Executing (default): SHOW INDEX FROM `sys_menus`
17:34:25: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
17:34:25: Executing (default): SHOW INDEX FROM `sys_users`
17:34:25: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
17:34:25: Executing (default): SHOW INDEX FROM `sys_roles`
17:34:25: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
17:34:25: Executing (default): SHOW INDEX FROM `sys_departments`
17:34:25: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
17:34:25: Executing (default): SHOW INDEX FROM `tmt341_files`
17:34:25: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
17:34:25: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
17:34:25: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
17:34:25: Executing (default): SHOW INDEX FROM `user_role`
17:34:25: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
17:34:25: Executing (default): SHOW INDEX FROM `role_menu`
17:34:25: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
17:34:25: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
17:34:25: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
17:34:25: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
17:34:25: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
17:34:25: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
17:34:25: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
17:34:25: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
17:34:25: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
17:34:25: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
17:34:25: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
17:34:25: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
17:34:25: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
17:34:25: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
17:34:25: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
17:34:25: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
17:34:25: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
17:34:25: Executing (default): SHOW INDEX FROM `sys_menus`
17:34:25: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
17:34:25: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
17:34:25: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
17:34:25: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
17:34:26: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
17:34:26: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
17:34:26: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
17:34:26: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
17:34:26: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
17:34:26: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
17:34:26: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
17:34:26: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
17:34:26: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
17:34:26: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
17:34:26: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
17:34:26: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
17:34:26: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
17:34:26: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
17:34:26: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
17:34:26: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
17:34:27: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
17:34:27: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
17:34:27: Executing (default): SHOW INDEX FROM `sys_users`
17:34:27: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
17:34:27: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
17:34:27: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
17:34:27: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
17:34:27: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
17:34:27: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
17:34:27: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
17:34:27: Executing (default): SHOW INDEX FROM `sys_roles`
17:34:27: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
17:34:27: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
17:34:27: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
17:34:27: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
17:34:27: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
17:34:27: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
17:34:27: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
17:34:27: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
17:34:27: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
17:34:27: Executing (default): SHOW INDEX FROM `sys_departments`
17:34:27: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
17:34:27: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
17:34:27: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
17:34:27: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
17:34:27: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
17:34:27: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
17:34:27: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
17:34:27: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
17:34:27: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
17:34:27: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
17:34:27: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
17:34:27: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
17:34:27: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
17:34:27: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
17:34:28: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
17:34:28: Executing (default): SHOW INDEX FROM `tmt341_files`
17:34:28: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
17:34:28: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
17:34:28: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
17:34:28: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
17:34:28: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
17:34:28: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
17:34:28: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
17:34:28: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
17:34:28: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
17:34:28: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
17:34:28: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
17:34:28: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
17:34:28: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
17:34:28: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
17:34:28: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
17:34:28: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
17:34:28: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
17:34:28: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
17:34:28: Executing (default): SHOW INDEX FROM `user_role`
17:34:28: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
17:34:28: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
17:34:28: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
17:34:29: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
17:34:29: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
17:34:29: Executing (default): SHOW INDEX FROM `role_menu`
17:38:14: Executing (default): SELECT 1+1 AS result
17:38:14: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
17:38:14: Executing (default): SHOW INDEX FROM `sys_menus`
17:38:14: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
17:38:14: Executing (default): SHOW INDEX FROM `sys_users`
17:38:14: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
17:38:14: Executing (default): SHOW INDEX FROM `sys_roles`
17:38:14: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
17:38:14: Executing (default): SHOW INDEX FROM `sys_departments`
17:38:14: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
17:38:14: Executing (default): SHOW INDEX FROM `tmt341_files`
17:38:14: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
17:38:14: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
17:38:14: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
17:38:14: Executing (default): SHOW INDEX FROM `user_role`
17:38:14: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
17:38:14: Executing (default): SHOW INDEX FROM `role_menu`
17:38:14: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
17:38:14: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
17:38:14: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
17:38:14: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
17:38:14: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
17:38:14: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
17:38:14: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
17:38:14: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
17:38:14: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
17:38:14: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
17:38:15: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
17:38:15: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
17:38:15: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
17:38:15: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
17:38:15: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
17:38:15: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
17:38:15: Executing (default): SHOW INDEX FROM `sys_menus`
17:38:15: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
17:38:15: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
17:38:15: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
17:38:15: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
17:38:15: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
17:38:15: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
17:38:15: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
17:38:15: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
17:38:15: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
17:38:15: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
17:38:15: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
17:38:15: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
17:38:15: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
17:38:15: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
17:38:15: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
17:38:16: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
17:38:16: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
17:38:16: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
17:38:16: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
17:38:16: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
17:38:16: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
17:38:16: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
17:38:16: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
17:38:16: Executing (default): SHOW INDEX FROM `sys_users`
17:38:16: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
17:38:16: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
17:38:16: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
17:38:16: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
17:38:16: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
17:38:16: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
17:38:16: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
17:38:16: Executing (default): SHOW INDEX FROM `sys_roles`
17:38:16: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
17:38:16: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
17:38:16: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
17:38:16: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
17:38:16: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
17:38:16: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
17:38:16: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
17:38:16: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
17:38:16: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
17:38:16: Executing (default): SHOW INDEX FROM `sys_departments`
17:38:16: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
17:38:16: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
17:38:16: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
17:38:16: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
17:38:16: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
17:38:16: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
17:38:16: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
17:38:16: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
17:38:16: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
17:38:16: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
17:38:16: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
17:38:17: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
17:38:17: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
17:38:17: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
17:38:17: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
17:38:17: Executing (default): SHOW INDEX FROM `tmt341_files`
17:38:17: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
17:38:17: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
17:38:17: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
17:38:17: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
17:38:17: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
17:38:17: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
17:38:17: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
17:38:17: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
17:38:17: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
17:38:17: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
17:38:17: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
17:38:17: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
17:38:18: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
17:38:18: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
17:38:18: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
17:38:18: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
17:38:18: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
17:38:18: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
17:38:18: Executing (default): SHOW INDEX FROM `user_role`
17:38:18: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
17:38:18: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
17:38:18: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
17:38:18: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
17:38:18: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
17:38:18: Executing (default): SHOW INDEX FROM `role_menu`
19:3:26: Executing (default): SELECT 1+1 AS result
19:3:26: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
19:3:26: Executing (default): SHOW INDEX FROM `sys_menus`
19:3:26: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
19:3:26: Executing (default): SHOW INDEX FROM `sys_users`
19:3:26: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
19:3:26: Executing (default): SHOW INDEX FROM `sys_roles`
19:3:26: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
19:3:26: Executing (default): SHOW INDEX FROM `sys_departments`
19:3:26: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
19:3:26: Executing (default): SHOW INDEX FROM `tmt341_files`
19:3:26: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
19:3:26: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
19:3:26: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
19:3:26: Executing (default): SHOW INDEX FROM `user_role`
19:3:26: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
19:3:26: Executing (default): SHOW INDEX FROM `role_menu`
19:3:26: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
19:3:26: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
19:3:26: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:3:26: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
19:3:26: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
19:3:26: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
19:3:26: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
19:3:26: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
19:3:26: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
19:3:26: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
19:3:26: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
19:3:26: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
19:3:26: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
19:3:27: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
19:3:27: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
19:3:27: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:3:27: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:3:27: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
19:3:27: Executing (default): SHOW INDEX FROM `sys_menus`
19:3:27: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
19:3:27: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:3:27: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
19:3:27: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
19:3:27: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
19:3:27: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
19:3:27: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
19:3:27: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:3:27: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
19:3:27: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
19:3:27: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:3:27: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
19:3:27: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
19:3:27: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
19:3:27: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
19:3:27: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
19:3:27: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
19:3:27: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
19:3:28: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
19:3:28: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
19:3:28: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
19:3:28: Executing (default): SHOW INDEX FROM `sys_users`
19:3:28: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
19:3:28: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:3:28: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
19:3:28: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:3:28: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:3:28: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
19:3:28: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
19:3:28: Executing (default): SHOW INDEX FROM `sys_roles`
19:3:28: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
19:3:28: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
19:3:28: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:3:28: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
19:3:28: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:3:28: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:3:28: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
19:3:28: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
19:3:28: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
19:3:28: Executing (default): SHOW INDEX FROM `sys_departments`
19:3:28: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
19:3:28: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
19:3:28: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:3:28: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
19:3:28: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
19:3:28: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
19:3:28: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
19:3:28: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:3:28: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:3:28: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
19:3:28: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
19:3:28: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
19:3:28: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
19:3:28: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
19:3:29: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
19:3:29: Executing (default): SHOW INDEX FROM `tmt341_files`
19:3:29: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
19:3:29: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
19:3:29: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:3:29: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
19:3:29: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
19:3:29: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
19:3:29: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
19:3:29: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:3:29: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:3:29: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
19:3:29: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
19:3:29: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
19:3:29: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
19:3:29: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
19:3:29: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
19:3:29: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:3:29: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:3:29: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:3:30: Executing (default): SHOW INDEX FROM `user_role`
19:3:30: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
19:3:30: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:3:30: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
19:3:30: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:3:30: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:3:30: Executing (default): SHOW INDEX FROM `role_menu`
19:3:43: Executing (default): SELECT `sys_user`.*, `sys_roles`.`id` AS `sys_roles.id`, `sys_roles`.`lang` AS `sys_roles.lang`, `sys_roles`.`rolename` AS `sys_roles.rolename`, `sys_roles`.`mota` AS `sys_roles.mota`, `sys_roles`.`createdAt` AS `sys_roles.createdAt`, `sys_roles`.`updatedAt` AS `sys_roles.updatedAt`, `sys_roles->user_role`.`createdAt` AS `sys_roles.user_role.createdAt`, `sys_roles->user_role`.`updatedAt` AS `sys_roles.user_role.updatedAt`, `sys_roles->user_role`.`sysUserId` AS `sys_roles.user_role.sysUserId`, `sys_roles->user_role`.`sysRoleId` AS `sys_roles.user_role.sysRoleId`, `sys_department`.`id` AS `sys_department.id`, `sys_department`.`lang` AS `sys_department.lang`, `sys_department`.`tenphongban` AS `sys_department.tenphongban`, `sys_department`.`state` AS `sys_department.state`, `sys_department`.`fatherId` AS `sys_department.fatherId`, `sys_department`.`orderNum` AS `sys_department.orderNum`, `sys_department`.`createdAt` AS `sys_department.createdAt`, `sys_department`.`updatedAt` AS `sys_department.updatedAt` FROM (SELECT `sys_user`.`id`, `sys_user`.`name`, `sys_user`.`password`, `sys_user`.`available`, `sys_user`.`sex`, `sys_user`.`dienthoai`, `sys_user`.`email`, `sys_user`.`lastLoginTime`, `sys_user`.`createdAt`, `sys_user`.`updatedAt`, `sys_user`.`phongban_id`, `sys_user`.`sysDepartmentId`, `sys_user`.`avatar` FROM `sys_users` AS `sys_user` WHERE `sys_user`.`email` = 'namandroid.it@gmail.com' LIMIT 1) AS `sys_user` LEFT OUTER JOIN ( `user_role` AS `sys_roles->user_role` INNER JOIN `sys_roles` AS `sys_roles` ON `sys_roles`.`id` = `sys_roles->user_role`.`sysRoleId`) ON `sys_user`.`id` = `sys_roles->user_role`.`sysUserId` LEFT OUTER JOIN `sys_departments` AS `sys_department` ON `sys_user`.`sysDepartmentId` = `sys_department`.`id`;
19:3:43: Executing (default): UPDATE `sys_users` SET `lastLoginTime`=?,`updatedAt`=? WHERE `id` = ?
19:3:43: Executing (default): SELECT DISTINCT m.code FROM user_role ur  JOIN role_menu rm ON ur.sysRoleId= rm.sysRoleId  JOIN sys_menus m ON rm.sysMenuId = m.id   WHERE ur.sysUserId = 1;
19:4:20: TypeError: Cannot read properties of undefined (reading 'lang')
19:5:2: TypeError: Cannot read properties of undefined (reading 'lang')
19:6:53: Executing (default): SELECT 1+1 AS result
19:6:53: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
19:6:53: Executing (default): SHOW INDEX FROM `sys_menus`
19:6:53: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
19:6:53: Executing (default): SHOW INDEX FROM `sys_users`
19:6:53: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
19:6:53: Executing (default): SHOW INDEX FROM `sys_roles`
19:6:53: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
19:6:53: Executing (default): SHOW INDEX FROM `sys_departments`
19:6:53: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
19:6:53: Executing (default): SHOW INDEX FROM `tmt341_files`
19:6:53: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
19:6:53: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
19:6:53: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
19:6:53: Executing (default): SHOW INDEX FROM `user_role`
19:6:53: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
19:6:53: Executing (default): SHOW INDEX FROM `role_menu`
19:6:53: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
19:6:53: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
19:6:53: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:6:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
19:6:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
19:6:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
19:6:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
19:6:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
19:6:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
19:6:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
19:6:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
19:6:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
19:6:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
19:6:54: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
19:6:54: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
19:6:54: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:6:54: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:6:54: Executing (default): SHOW INDEX FROM `sys_menus`
19:6:54: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
19:6:54: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:6:54: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
19:6:54: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
19:6:54: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
19:6:54: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
19:6:54: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:6:54: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:6:54: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
19:6:54: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
19:6:54: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
19:6:54: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
19:6:54: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
19:6:54: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
19:6:54: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
19:6:54: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
19:6:54: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
19:6:54: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
19:6:54: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
19:6:55: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
19:6:55: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
19:6:55: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
19:6:55: Executing (default): SHOW INDEX FROM `sys_users`
19:6:55: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
19:6:55: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
19:6:55: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:6:55: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:6:55: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:6:55: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
19:6:55: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
19:6:55: Executing (default): SHOW INDEX FROM `sys_roles`
19:6:55: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
19:6:55: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
19:6:55: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:6:55: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
19:6:55: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:6:55: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:6:55: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
19:6:55: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
19:6:55: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
19:6:55: Executing (default): SHOW INDEX FROM `sys_departments`
19:6:55: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
19:6:55: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
19:6:55: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:6:55: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
19:6:55: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
19:6:55: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
19:6:55: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
19:6:55: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:6:55: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:6:55: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
19:6:55: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
19:6:55: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
19:6:55: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
19:6:55: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
19:6:56: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
19:7:42: Executing (default): SHOW INDEX FROM `tmt341_files`
19:7:43: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
19:7:43: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
19:7:43: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:7:43: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
19:7:43: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
19:7:43: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
19:7:43: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
19:7:43: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:7:43: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:7:43: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
19:7:43: Executing (default): SELECT `id`, `lang`, `rolename`, `mota`, `createdAt`, `updatedAt` FROM `sys_roles` AS `sys_role` WHERE `sys_role`.`id` = 1 AND `sys_role`.`lang` = 'vi';
19:7:52: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
19:7:52: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
19:7:52: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
19:7:52: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
19:7:52: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
19:7:52: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:7:52: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:7:52: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:7:52: Executing (default): SHOW INDEX FROM `user_role`
19:7:52: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
19:7:52: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
19:7:52: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:7:52: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:7:52: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:7:52: Executing (default): SHOW INDEX FROM `role_menu`
19:8:59: Executing (default): SELECT 1+1 AS result
19:8:59: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
19:8:59: Executing (default): SHOW INDEX FROM `sys_menus`
19:8:59: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
19:8:59: Executing (default): SHOW INDEX FROM `sys_users`
19:8:59: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
19:8:59: Executing (default): SHOW INDEX FROM `sys_roles`
19:8:59: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
19:8:59: Executing (default): SHOW INDEX FROM `sys_departments`
19:8:59: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
19:8:59: Executing (default): SHOW INDEX FROM `tmt341_files`
19:8:59: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
19:8:59: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
19:8:59: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
19:8:59: Executing (default): SHOW INDEX FROM `user_role`
19:8:59: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
19:8:59: Executing (default): SHOW INDEX FROM `role_menu`
19:8:59: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
19:8:59: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
19:8:59: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:8:59: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
19:8:59: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
19:8:59: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
19:8:59: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
19:8:59: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
19:8:59: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
19:8:59: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
19:8:59: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
19:8:59: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
19:8:59: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
19:8:59: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
19:8:59: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:8:59: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:8:59: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
19:9:0: Executing (default): SHOW INDEX FROM `sys_menus`
19:9:0: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
19:9:0: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
19:9:0: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:9:0: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
19:9:0: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
19:9:0: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
19:9:0: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
19:9:0: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:9:0: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
19:9:0: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:9:0: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
19:9:0: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
19:9:0: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
19:9:0: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
19:9:0: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
19:9:0: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
19:9:0: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
19:9:0: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
19:9:0: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
19:9:0: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
19:9:0: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
19:9:0: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
19:9:1: Executing (default): SHOW INDEX FROM `sys_users`
19:9:1: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
19:9:1: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
19:9:1: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:9:1: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:9:1: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:9:1: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
19:9:1: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
19:9:1: Executing (default): SHOW INDEX FROM `sys_roles`
19:9:1: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
19:9:1: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:9:1: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
19:9:1: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
19:9:1: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:9:1: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:9:1: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
19:9:1: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
19:9:1: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
19:9:1: Executing (default): SHOW INDEX FROM `sys_departments`
19:9:1: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
19:9:1: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
19:9:1: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:9:1: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
19:9:1: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
19:9:1: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
19:9:1: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
19:9:1: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:9:1: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:9:1: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
19:9:1: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
19:9:1: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
19:9:1: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
19:9:1: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
19:9:2: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
19:9:2: Executing (default): SHOW INDEX FROM `tmt341_files`
19:9:2: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
19:9:2: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
19:9:2: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:9:2: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
19:9:2: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
19:9:2: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
19:9:2: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
19:9:2: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:9:2: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:9:2: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
19:9:2: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
19:9:2: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
19:9:2: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
19:9:2: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
19:9:2: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
19:9:2: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:9:2: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:9:2: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:9:2: Executing (default): SHOW INDEX FROM `user_role`
19:9:2: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
19:9:2: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
19:9:2: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:9:2: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:9:2: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:9:2: Executing (default): SHOW INDEX FROM `role_menu`
19:21:31: Executing (default): SELECT 1+1 AS result
19:21:31: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
19:21:31: Executing (default): SHOW INDEX FROM `sys_menus`
19:21:31: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
19:21:31: Executing (default): SHOW INDEX FROM `sys_users`
19:21:31: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
19:21:31: Executing (default): SHOW INDEX FROM `sys_roles`
19:21:31: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
19:21:31: Executing (default): SHOW INDEX FROM `sys_departments`
19:21:31: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
19:21:31: Executing (default): SHOW INDEX FROM `tmt341_files`
19:21:31: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
19:21:31: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
19:21:31: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
19:21:31: Executing (default): SHOW INDEX FROM `user_role`
19:21:31: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
19:21:31: Executing (default): SHOW INDEX FROM `role_menu`
19:21:31: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
19:21:31: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
19:21:31: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:21:31: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
19:21:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
19:21:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
19:21:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
19:21:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
19:21:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
19:21:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
19:21:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
19:21:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
19:21:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
19:21:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
19:21:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:21:32: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:21:32: Executing (default): SHOW INDEX FROM `sys_menus`
19:21:32: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
19:21:32: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
19:21:32: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:21:32: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
19:21:32: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
19:21:32: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
19:21:32: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:21:32: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:21:32: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
19:21:32: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
19:21:32: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
19:21:32: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
19:21:32: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
19:21:33: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
19:21:33: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
19:21:33: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
19:21:33: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
19:21:33: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
19:21:33: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
19:21:33: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
19:21:33: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
19:21:33: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
19:21:33: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
19:21:33: Executing (default): SHOW INDEX FROM `sys_users`
19:21:33: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
19:21:33: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
19:21:33: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:21:33: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:21:33: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:21:33: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
19:21:33: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
19:21:33: Executing (default): SHOW INDEX FROM `sys_roles`
19:21:33: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
19:21:33: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:21:33: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
19:21:33: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
19:21:33: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:21:33: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:21:33: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
19:21:34: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
19:21:34: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
19:21:34: Executing (default): SHOW INDEX FROM `sys_departments`
19:21:34: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
19:21:34: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
19:21:34: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:21:34: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
19:21:34: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
19:21:34: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
19:21:34: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
19:21:34: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:21:34: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:21:34: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
19:21:34: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
19:21:34: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
19:21:34: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
19:21:34: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
19:21:34: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
19:21:35: Executing (default): SHOW INDEX FROM `tmt341_files`
19:21:35: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
19:21:35: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
19:21:35: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:21:35: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
19:21:35: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
19:21:35: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
19:21:35: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
19:21:35: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:21:35: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:21:35: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
19:21:35: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
19:21:35: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
19:21:35: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
19:21:35: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
19:21:35: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
19:21:35: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:21:35: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:21:35: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:21:35: Executing (default): SHOW INDEX FROM `user_role`
19:21:35: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
19:21:35: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:21:35: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
19:21:35: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:21:35: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:21:35: Executing (default): SHOW INDEX FROM `role_menu`
19:23:34: Executing (default): SELECT 1+1 AS result
19:23:34: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
19:23:34: Executing (default): SHOW INDEX FROM `sys_menus`
19:23:34: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
19:23:34: Executing (default): SHOW INDEX FROM `sys_users`
19:23:34: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
19:23:34: Executing (default): SHOW INDEX FROM `sys_roles`
19:23:34: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
19:23:34: Executing (default): SHOW INDEX FROM `sys_departments`
19:23:34: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
19:23:34: Executing (default): SHOW INDEX FROM `tmt341_files`
19:23:34: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
19:23:34: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
19:23:34: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
19:23:34: Executing (default): SHOW INDEX FROM `user_role`
19:23:34: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
19:23:34: Executing (default): SHOW INDEX FROM `role_menu`
19:23:34: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
19:23:34: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
19:23:34: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:23:34: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
19:23:34: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
19:23:34: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
19:23:34: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
19:23:34: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
19:23:34: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
19:23:34: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
19:23:34: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
19:23:34: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
19:23:34: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
19:23:34: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
19:23:34: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:23:34: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:23:34: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
19:23:34: Executing (default): SHOW INDEX FROM `sys_menus`
19:23:34: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
19:23:34: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
19:23:34: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:23:34: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
19:23:35: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
19:23:35: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
19:23:35: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
19:23:35: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
19:23:35: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:23:35: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:23:35: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
19:23:35: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
19:23:35: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
19:23:35: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
19:23:35: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
19:23:35: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
19:23:35: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
19:23:35: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
19:23:35: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
19:23:35: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
19:23:35: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
19:23:35: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
19:23:35: Executing (default): SHOW INDEX FROM `sys_users`
19:23:35: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
19:23:35: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
19:23:35: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:23:35: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:23:36: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:23:36: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
19:23:36: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
19:23:36: Executing (default): SHOW INDEX FROM `sys_roles`
19:23:36: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
19:23:36: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:23:36: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
19:23:36: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
19:23:36: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:23:36: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:23:36: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
19:23:36: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
19:23:36: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
19:23:36: Executing (default): SHOW INDEX FROM `sys_departments`
19:23:36: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
19:23:36: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
19:23:36: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:23:36: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
19:23:36: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
19:23:36: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
19:23:36: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
19:23:36: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:23:36: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:23:36: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
19:23:36: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
19:23:36: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
19:23:36: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
19:23:36: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
19:23:37: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
19:23:37: Executing (default): SHOW INDEX FROM `tmt341_files`
19:23:37: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
19:23:37: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
19:23:37: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:23:37: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
19:23:37: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
19:23:37: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
19:23:37: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
19:23:37: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:23:37: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:23:37: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
19:23:37: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
19:23:37: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
19:23:37: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
19:23:37: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
19:23:37: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
19:23:37: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:23:37: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:23:37: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:23:37: Executing (default): SHOW INDEX FROM `user_role`
19:23:37: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
19:23:37: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
19:23:37: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:23:37: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:23:37: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:23:37: Executing (default): SHOW INDEX FROM `role_menu`
19:23:46: Executing (default): SELECT 1+1 AS result
19:23:46: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
19:23:46: Executing (default): SHOW INDEX FROM `sys_menus`
19:23:46: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
19:23:46: Executing (default): SHOW INDEX FROM `sys_users`
19:23:46: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
19:23:46: Executing (default): SHOW INDEX FROM `sys_roles`
19:23:46: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
19:23:46: Executing (default): SHOW INDEX FROM `sys_departments`
19:23:46: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
19:23:46: Executing (default): SHOW INDEX FROM `tmt341_files`
19:23:46: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
19:23:46: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
19:23:46: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
19:23:46: Executing (default): SHOW INDEX FROM `user_role`
19:23:46: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
19:23:46: Executing (default): SHOW INDEX FROM `role_menu`
19:23:46: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
19:23:46: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
19:23:46: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:23:46: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
19:23:46: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
19:23:46: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
19:23:46: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
19:23:46: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
19:23:46: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
19:23:46: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
19:23:46: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
19:23:46: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
19:23:46: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
19:23:47: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
19:23:47: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:23:47: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:23:47: Executing (default): SHOW INDEX FROM `sys_menus`
19:23:47: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
19:23:47: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
19:23:47: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:23:47: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
19:23:47: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
19:23:47: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
19:23:47: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
19:23:47: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:23:47: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:23:47: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
19:23:47: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
19:23:47: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
19:23:47: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
19:23:47: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
19:23:47: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
19:23:47: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
19:23:47: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
19:23:47: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
19:23:47: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
19:23:47: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
19:23:47: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
19:23:47: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
19:23:47: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
19:23:48: Executing (default): SHOW INDEX FROM `sys_users`
19:23:48: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
19:23:48: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
19:23:48: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:23:48: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:23:48: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:23:48: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
19:23:48: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
19:23:48: Executing (default): SHOW INDEX FROM `sys_roles`
19:23:48: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
19:23:48: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
19:23:48: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:23:48: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
19:23:48: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:23:48: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:23:48: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
19:23:48: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
19:23:48: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
19:23:48: Executing (default): SHOW INDEX FROM `sys_departments`
19:23:48: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
19:23:48: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
19:23:48: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:23:48: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
19:23:48: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
19:23:48: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
19:23:48: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
19:23:48: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:23:48: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:23:48: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
19:23:48: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
19:23:48: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
19:23:48: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
19:23:48: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
19:23:49: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
19:23:49: Executing (default): SHOW INDEX FROM `tmt341_files`
19:23:49: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
19:23:49: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:23:49: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
19:23:49: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
19:23:49: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
19:23:49: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
19:23:49: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
19:23:49: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:23:49: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:23:49: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
19:23:49: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
19:23:49: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
19:23:49: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
19:23:49: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
19:23:49: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
19:23:49: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:23:49: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:23:49: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:23:49: Executing (default): SHOW INDEX FROM `user_role`
19:23:49: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
19:23:49: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
19:23:49: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:23:49: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:23:49: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:23:49: Executing (default): SHOW INDEX FROM `role_menu`
19:23:53: Executing (default): SELECT 1+1 AS result
19:23:53: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
19:23:53: Executing (default): SHOW INDEX FROM `sys_menus`
19:23:53: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
19:23:53: Executing (default): SHOW INDEX FROM `sys_users`
19:23:53: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
19:23:53: Executing (default): SHOW INDEX FROM `sys_roles`
19:23:53: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
19:23:53: Executing (default): SHOW INDEX FROM `sys_departments`
19:23:53: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
19:23:53: Executing (default): SHOW INDEX FROM `tmt341_files`
19:23:53: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
19:23:53: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
19:23:53: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
19:23:53: Executing (default): SHOW INDEX FROM `user_role`
19:23:53: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
19:23:53: Executing (default): SHOW INDEX FROM `role_menu`
19:23:53: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
19:23:53: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
19:23:53: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:23:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
19:23:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
19:23:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
19:23:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
19:23:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
19:23:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
19:23:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
19:23:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
19:23:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
19:23:53: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
19:23:54: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
19:23:54: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
19:23:54: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:23:54: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:23:54: Executing (default): SHOW INDEX FROM `sys_menus`
19:23:54: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
19:23:54: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
19:23:54: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:23:54: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
19:23:54: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
19:23:54: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
19:23:54: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
19:23:54: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
19:23:54: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
19:23:54: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
19:23:54: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:23:54: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
19:23:54: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:23:54: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
19:23:54: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
19:23:54: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
19:23:54: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
19:23:55: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
19:23:55: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
19:23:55: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
19:23:55: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
19:23:55: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
19:23:55: Executing (default): SHOW INDEX FROM `sys_users`
19:23:55: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
19:23:55: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:23:55: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
19:23:55: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:23:55: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:23:55: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
19:23:55: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
19:23:55: Executing (default): SHOW INDEX FROM `sys_roles`
19:23:55: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
19:23:55: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
19:23:55: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:23:55: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
19:23:55: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:23:55: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:23:55: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
19:23:55: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
19:23:55: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
19:23:55: Executing (default): SHOW INDEX FROM `sys_departments`
19:23:55: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
19:23:55: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
19:23:55: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:23:55: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
19:23:55: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
19:23:55: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
19:23:55: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
19:23:55: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:23:55: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:23:55: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
19:23:55: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
19:23:56: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
19:23:56: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
19:23:56: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
19:23:56: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
19:23:56: Executing (default): SHOW INDEX FROM `tmt341_files`
19:23:56: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
19:23:56: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
19:23:56: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:23:56: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
19:23:56: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
19:23:56: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
19:23:56: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
19:23:56: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:23:56: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:23:56: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
19:23:56: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
19:23:56: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
19:23:56: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
19:23:56: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
19:23:57: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
19:23:57: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:23:57: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:23:57: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:23:57: Executing (default): SHOW INDEX FROM `user_role`
19:23:57: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
19:23:57: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
19:23:57: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:23:57: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:23:57: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:23:57: Executing (default): SHOW INDEX FROM `role_menu`
19:24:15: Executing (default): SELECT 1+1 AS result
19:24:15: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
19:24:15: Executing (default): SHOW INDEX FROM `sys_menus`
19:24:15: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
19:24:15: Executing (default): SHOW INDEX FROM `sys_users`
19:24:15: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
19:24:15: Executing (default): SHOW INDEX FROM `sys_roles`
19:24:15: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
19:24:15: Executing (default): SHOW INDEX FROM `sys_departments`
19:24:15: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
19:24:15: Executing (default): SHOW INDEX FROM `tmt341_files`
19:24:15: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
19:24:15: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
19:24:15: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
19:24:15: Executing (default): SHOW INDEX FROM `user_role`
19:24:15: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
19:24:15: Executing (default): SHOW INDEX FROM `role_menu`
19:24:15: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
19:24:15: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
19:24:15: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:24:15: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
19:24:15: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
19:24:16: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
19:24:16: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
19:24:16: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
19:24:16: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
19:24:16: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
19:24:16: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
19:24:16: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
19:24:16: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
19:24:16: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
19:24:16: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
19:24:16: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:24:16: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:24:16: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
19:24:16: Executing (default): SHOW INDEX FROM `sys_menus`
19:24:16: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
19:24:16: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:24:16: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
19:24:16: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
19:24:16: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
19:24:16: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
19:24:16: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
19:24:16: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:24:16: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
19:24:16: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
19:24:16: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:24:16: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
19:24:16: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
19:24:16: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
19:24:16: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
19:24:17: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
19:24:17: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
19:24:17: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
19:24:17: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
19:24:17: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
19:24:17: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
19:24:17: Executing (default): SHOW INDEX FROM `sys_users`
19:24:17: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
19:24:17: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
19:24:17: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:24:17: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:24:17: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:24:17: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
19:24:17: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
19:24:17: Executing (default): SHOW INDEX FROM `sys_roles`
19:24:17: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
19:24:17: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
19:24:17: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:24:17: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
19:24:17: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:24:17: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:24:17: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
19:24:17: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
19:24:17: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
19:24:17: Executing (default): SHOW INDEX FROM `sys_departments`
19:24:17: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
19:24:17: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
19:24:17: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:24:17: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
19:24:18: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
19:24:18: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
19:24:18: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
19:24:18: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:24:18: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:24:18: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
19:24:18: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
19:24:18: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
19:24:18: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
19:24:18: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
19:24:18: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
19:24:18: Executing (default): SHOW INDEX FROM `tmt341_files`
19:24:18: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
19:24:18: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
19:24:18: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:24:18: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
19:24:18: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
19:24:18: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
19:24:19: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
19:24:19: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:24:19: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:24:19: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
19:24:19: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
19:24:19: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
19:24:19: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
19:24:19: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
19:24:19: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
19:24:19: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:24:19: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:24:19: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:24:19: Executing (default): SHOW INDEX FROM `user_role`
19:24:19: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
19:24:19: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
19:24:19: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:24:19: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:24:19: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:24:19: Executing (default): SHOW INDEX FROM `role_menu`
19:28:14: Executing (default): SELECT 1+1 AS result
19:28:14: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
19:28:14: Executing (default): SHOW INDEX FROM `sys_menus`
19:28:14: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
19:28:14: Executing (default): SHOW INDEX FROM `sys_users`
19:28:14: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
19:28:14: Executing (default): SHOW INDEX FROM `sys_roles`
19:28:14: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
19:28:14: Executing (default): SHOW INDEX FROM `sys_departments`
19:28:14: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
19:28:14: Executing (default): SHOW INDEX FROM `tmt341_files`
19:28:14: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
19:28:14: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
19:28:14: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
19:28:14: Executing (default): SHOW INDEX FROM `user_role`
19:28:14: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
19:28:14: Executing (default): SHOW INDEX FROM `role_menu`
19:28:14: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
19:28:14: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
19:28:14: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:28:14: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
19:28:14: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
19:28:14: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
19:28:14: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
19:28:14: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
19:28:14: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
19:28:14: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
19:28:14: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
19:28:14: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
19:28:14: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
19:28:14: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
19:28:14: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
19:28:14: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:28:14: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:28:14: Executing (default): SHOW INDEX FROM `sys_menus`
19:28:14: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
19:28:14: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
19:28:14: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:28:14: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
19:28:14: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
19:28:14: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
19:28:14: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
19:28:14: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:28:14: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:28:14: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
19:28:14: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
19:28:15: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
19:28:15: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
19:28:15: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
19:28:15: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
19:28:15: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
19:28:15: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
19:28:15: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
19:28:15: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
19:28:15: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
19:28:15: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
19:28:15: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
19:28:15: Executing (default): SHOW INDEX FROM `sys_users`
19:28:15: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
19:28:15: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
19:28:15: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:28:15: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:28:15: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:28:15: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
19:28:15: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
19:28:16: Executing (default): SHOW INDEX FROM `sys_roles`
19:28:16: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
19:28:16: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:28:16: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
19:28:16: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
19:28:16: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:28:16: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:28:16: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
19:28:16: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
19:28:16: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
19:28:16: Executing (default): SHOW INDEX FROM `sys_departments`
19:28:16: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
19:28:16: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
19:28:16: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:28:16: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
19:28:16: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
19:28:16: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
19:28:16: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
19:28:16: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:28:16: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:28:16: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
19:28:16: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
19:28:16: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
19:28:16: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
19:28:16: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
19:28:16: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
19:28:17: Executing (default): SHOW INDEX FROM `tmt341_files`
19:28:17: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
19:28:17: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:28:17: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
19:28:17: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
19:28:17: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
19:28:17: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
19:28:17: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
19:28:17: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:28:17: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:28:17: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
19:28:17: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
19:28:17: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
19:28:17: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
19:28:17: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
19:28:17: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:28:17: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
19:28:17: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:28:17: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:28:17: Executing (default): SHOW INDEX FROM `user_role`
19:28:17: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
19:28:17: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
19:28:17: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:28:17: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:28:17: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:28:17: Executing (default): SHOW INDEX FROM `role_menu`
19:49:19: Executing (default): SELECT 1+1 AS result
19:49:19: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
19:49:19: Executing (default): SHOW INDEX FROM `sys_menus`
19:49:19: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
19:49:19: Executing (default): SHOW INDEX FROM `sys_users`
19:49:19: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
19:49:19: Executing (default): SHOW INDEX FROM `sys_roles`
19:49:19: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
19:49:19: Executing (default): SHOW INDEX FROM `sys_departments`
19:49:19: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
19:49:19: Executing (default): SHOW INDEX FROM `tmt341_files`
19:49:19: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
19:49:19: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
19:49:19: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
19:49:19: Executing (default): SHOW INDEX FROM `user_role`
19:49:19: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
19:49:19: Executing (default): SHOW INDEX FROM `role_menu`
19:49:19: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
19:49:19: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
19:49:19: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:49:19: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
19:49:19: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
19:49:19: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
19:49:19: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
19:49:19: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
19:49:19: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
19:49:19: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
19:49:19: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
19:49:19: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
19:49:19: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
19:49:19: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
19:49:19: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
19:49:19: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:49:19: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:49:19: Executing (default): SHOW INDEX FROM `sys_menus`
19:49:19: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
19:49:19: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
19:49:19: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:49:19: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
19:49:19: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
19:49:20: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
19:49:20: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:49:20: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
19:49:20: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:49:20: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
19:49:20: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
19:49:20: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
19:49:20: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
19:49:20: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
19:49:20: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
19:49:20: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
19:49:20: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
19:49:20: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
19:49:20: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
19:49:20: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
19:49:20: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
19:49:20: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
19:49:21: Executing (default): SHOW INDEX FROM `sys_users`
19:49:21: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
19:49:21: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
19:49:21: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:49:21: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:49:21: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:49:21: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
19:49:21: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
19:49:21: Executing (default): SHOW INDEX FROM `sys_roles`
19:49:21: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
19:49:21: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
19:49:21: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:49:21: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
19:49:21: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:49:21: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:49:21: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
19:49:21: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
19:49:21: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
19:49:21: Executing (default): SHOW INDEX FROM `sys_departments`
19:49:21: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
19:49:21: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
19:49:21: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:49:21: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
19:49:21: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
19:49:21: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
19:49:21: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
19:49:21: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:49:21: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:49:21: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
19:49:21: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
19:49:21: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
19:49:21: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
19:49:21: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
19:49:22: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
19:49:22: Executing (default): SHOW INDEX FROM `tmt341_files`
19:49:22: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
19:49:22: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
19:49:22: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:49:22: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
19:49:22: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
19:49:22: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
19:49:22: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
19:49:22: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:49:22: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:49:22: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
19:49:22: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
19:49:22: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
19:49:22: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
19:49:22: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
19:49:22: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
19:49:22: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:49:22: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:49:22: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:49:22: Executing (default): SHOW INDEX FROM `user_role`
19:49:22: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
19:49:22: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
19:49:22: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
19:49:22: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
19:49:22: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
19:49:22: Executing (default): SHOW INDEX FROM `role_menu`
20:31:4: Executing (default): SELECT 1+1 AS result
20:31:4: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
20:31:4: Executing (default): SHOW INDEX FROM `sys_menus`
20:31:4: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
20:31:4: Executing (default): SHOW INDEX FROM `sys_users`
20:31:4: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
20:31:4: Executing (default): SHOW INDEX FROM `sys_roles`
20:31:4: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
20:31:4: Executing (default): SHOW INDEX FROM `sys_departments`
20:31:4: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
20:31:4: Executing (default): SHOW INDEX FROM `tmt341_files`
20:31:4: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
20:31:4: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
20:31:4: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
20:31:4: Executing (default): SHOW INDEX FROM `user_role`
20:31:4: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
20:31:4: Executing (default): SHOW INDEX FROM `role_menu`
20:31:4: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_menus' AND TABLE_SCHEMA = 'nanp'
20:31:4: Executing (default): SHOW FULL COLUMNS FROM `sys_menus`;
20:31:4: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_menus' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
20:31:4: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuName` `menuName` VARCHAR(50) NOT NULL;
20:31:4: Executing (default): ALTER TABLE `sys_menus` CHANGE `code` `code` VARCHAR(50) NOT NULL;
20:31:4: Executing (default): ALTER TABLE `sys_menus` CHANGE `fatherId` `fatherId` VARCHAR(24) NOT NULL;
20:31:4: Executing (default): ALTER TABLE `sys_menus` CHANGE `orderNum` `orderNum` INTEGER NOT NULL;
20:31:5: Executing (default): ALTER TABLE `sys_menus` CHANGE `path` `path` VARCHAR(100);
20:31:5: Executing (default): ALTER TABLE `sys_menus` CHANGE `menuType` `menuType` CHAR(1) NOT NULL;
20:31:5: Executing (default): ALTER TABLE `sys_menus` CHANGE `visible` `visible` TINYINT(1);
20:31:5: Executing (default): ALTER TABLE `sys_menus` CHANGE `status` `status` TINYINT(1);
20:31:5: Executing (default): ALTER TABLE `sys_menus` CHANGE `icon` `icon` VARCHAR(50);
20:31:5: Executing (default): ALTER TABLE `sys_menus` CHANGE `alIcon` `alIcon` VARCHAR(50);
20:31:5: MongoDB :: demo_db users.createIndex({"email":1},{"unique":true,"background":true})
20:31:5: Executing (default): ALTER TABLE `sys_menus` CHANGE `newLinkFlag` `newLinkFlag` TINYINT(1);
20:31:5: Executing (default): ALTER TABLE `sys_menus` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
20:31:5: Executing (default): ALTER TABLE `sys_menus` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
20:31:5: Executing (default): SHOW INDEX FROM `sys_menus`
20:31:5: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_users' AND TABLE_SCHEMA = 'nanp'
20:31:5: Executing (default): SHOW FULL COLUMNS FROM `sys_users`;
20:31:5: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_users' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
20:31:5: Executing (default): ALTER TABLE `sys_users` CHANGE `password` `password` VARCHAR(255) NOT NULL;
20:31:5: Executing (default): ALTER TABLE `sys_users` CHANGE `sex` `sex` INTEGER;
20:31:5: Executing (default): ALTER TABLE `sys_users` CHANGE `email` `email` VARCHAR(50);
20:31:5: MongoDB :: demo_db messages.createIndex({"idmsg":1},{"unique":true,"background":true})
20:31:5: Executing (default): ALTER TABLE `sys_users` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
20:31:5: MongoDB :: demo_db menus.createIndex({"path":1},{"unique":true,"background":true})
20:31:5: Executing (default): ALTER TABLE `sys_users` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
20:31:5: Executing (default): ALTER TABLE `sys_users` CHANGE `sysDepartmentId` `sysDepartmentId` INTEGER;
20:31:5: MongoDB :: demo_db tmt100_inqnos.createIndex({"maghep":1},{"unique":true,"background":true})
20:31:5: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='sys_users' AND constraint_name = 'sys_users_ibfk_1' AND TABLE_SCHEMA = 'nanp';
20:31:5: MongoDB :: demo_db tmt101_youtubes.createIndex({"urldisplayid":"text"},{"background":true})
20:31:5: Executing (default): ALTER TABLE `sys_users` DROP FOREIGN KEY `sys_users_ibfk_1`;
20:31:5: Executing (default): ALTER TABLE `sys_users` ADD FOREIGN KEY (`avatar`) REFERENCES `tmt341_files` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
20:31:5: MongoDB :: demo_db users.createIndex({"name":"text"},{"background":true})
20:31:6: Executing (default): ALTER TABLE `sys_users` CHANGE `name` `name` VARCHAR(20) NOT NULL;
20:31:6: Executing (default): ALTER TABLE `sys_users` CHANGE `available` `available` TINYINT(1);
20:31:6: Executing (default): ALTER TABLE `sys_users` CHANGE `dienthoai` `dienthoai` BIGINT;
20:31:6: Executing (default): ALTER TABLE `sys_users` CHANGE `lastLoginTime` `lastLoginTime` DATETIME;
20:31:6: Executing (default): ALTER TABLE `sys_users` CHANGE `phongban_id` `phongban_id` INTEGER;
20:31:6: Executing (default): SHOW INDEX FROM `sys_users`
20:31:6: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_roles' AND TABLE_SCHEMA = 'nanp'
20:31:6: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_roles' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
20:31:6: Executing (default): SHOW FULL COLUMNS FROM `sys_roles`;
20:31:6: Executing (default): ALTER TABLE `sys_roles` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
20:31:6: Executing (default): ALTER TABLE `sys_roles` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
20:31:6: Executing (default): ALTER TABLE `sys_roles` CHANGE `rolename` `rolename` VARCHAR(50);
20:31:6: Executing (default): ALTER TABLE `sys_roles` CHANGE `mota` `mota` VARCHAR(100);
20:31:6: Executing (default): SHOW INDEX FROM `sys_roles`
20:31:6: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'sys_departments' AND TABLE_SCHEMA = 'nanp'
20:31:6: Executing (default): SHOW FULL COLUMNS FROM `sys_departments`;
20:31:6: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'sys_departments' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
20:31:6: Executing (default): ALTER TABLE `sys_departments` CHANGE `state` `state` TINYINT(1);
20:31:6: Executing (default): ALTER TABLE `sys_departments` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
20:31:6: Executing (default): ALTER TABLE `sys_departments` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
20:31:6: Executing (default): ALTER TABLE `sys_departments` CHANGE `tenphongban` `tenphongban` VARCHAR(255);
20:31:6: Executing (default): ALTER TABLE `sys_departments` CHANGE `fatherId` `fatherId` INTEGER;
20:31:6: Executing (default): ALTER TABLE `sys_departments` CHANGE `orderNum` `orderNum` INTEGER;
20:31:6: Executing (default): SHOW INDEX FROM `sys_departments`
20:31:6: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt341_files' AND TABLE_SCHEMA = 'nanp'
20:31:6: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt341_files' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
20:31:6: Executing (default): SHOW FULL COLUMNS FROM `tmt341_files`;
20:31:6: Executing (default): ALTER TABLE `tmt341_files` CHANGE `filename` `filename` VARCHAR(100);
20:31:6: Executing (default): ALTER TABLE `tmt341_files` CHANGE `path` `path` VARCHAR(100);
20:31:6: Executing (default): ALTER TABLE `tmt341_files` CHANGE `typefile` `typefile` VARCHAR(20);
20:31:6: Executing (default): ALTER TABLE `tmt341_files` CHANGE `sizefile` `sizefile` VARCHAR(10);
20:31:7: Executing (default): ALTER TABLE `tmt341_files` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
20:31:7: Executing (default): ALTER TABLE `tmt341_files` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
20:31:7: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_1' AND TABLE_SCHEMA = 'nanp';
20:31:7: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_1`;
20:31:7: Executing (default): SELECT CONSTRAINT_CATALOG AS constraintCatalog, CONSTRAINT_NAME AS constraintName, CONSTRAINT_SCHEMA AS constraintSchema, CONSTRAINT_TYPE AS constraintType, TABLE_NAME AS tableName, TABLE_SCHEMA AS tableSchema from INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE table_name='tmt341_files' AND constraint_name = 'tmt341_files_ibfk_2' AND TABLE_SCHEMA = 'nanp';
20:31:7: Executing (default): ALTER TABLE `tmt341_files` DROP FOREIGN KEY `tmt341_files_ibfk_2`;
20:31:7: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`user_id`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
20:31:7: Executing (default): ALTER TABLE `tmt341_files` ADD FOREIGN KEY (`sysUserId`) REFERENCES `sys_users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;
20:31:7: Executing (default): SHOW INDEX FROM `tmt341_files`
20:31:7: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'tmt340_formitemnms' AND TABLE_SCHEMA = 'nanp'
20:31:7: Executing (default): SHOW FULL COLUMNS FROM `tmt340_formitemnms`;
20:31:7: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'tmt340_formitemnms' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
20:31:7: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `lang` `lang` VARCHAR(3);
20:31:7: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title1` `title1` VARCHAR(100);
20:31:7: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `title2` `title2` VARCHAR(100);
20:31:7: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `status` `status` TINYINT(1);
20:31:7: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
20:31:8: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
20:31:8: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `menu_id` `menu_id` VARCHAR(36);
20:31:8: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `sysMenuId` `sysMenuId` VARCHAR(36);
20:31:8: Executing (default): ALTER TABLE `tmt340_formitemnms` CHANGE `vitri` `vitri` INTEGER;
20:31:8: Executing (default): SHOW INDEX FROM `tmt340_formitemnms`
20:31:8: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'user_role' AND TABLE_SCHEMA = 'nanp'
20:31:8: Executing (default): SHOW FULL COLUMNS FROM `user_role`;
20:31:8: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'user_role' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
20:31:8: Executing (default): ALTER TABLE `user_role` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
20:31:8: Executing (default): ALTER TABLE `user_role` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
20:31:8: Executing (default): SHOW INDEX FROM `user_role`
20:31:8: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'role_menu' AND TABLE_SCHEMA = 'nanp'
20:31:8: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'role_menu' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='nanp' AND REFERENCED_TABLE_NAME IS NOT NULL;
20:31:8: Executing (default): SHOW FULL COLUMNS FROM `role_menu`;
20:31:8: Executing (default): ALTER TABLE `role_menu` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;
20:31:8: Executing (default): ALTER TABLE `role_menu` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;
20:31:8: Executing (default): SHOW INDEX FROM `role_menu`
